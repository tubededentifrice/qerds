{"id":"qerds-0dq","title":"Set up phoss SMP for metadata publishing","description":"Configure phoss SMP for SMP/BDXR metadata publishing.\n\n## Requirements\n- Deploy phoss SMP in Docker Compose\n- Configure for QERDS metadata profile\n- Integration with qerds-api for metadata updates\n\n## Features\n- Publish service metadata\n- Update endpoint information\n- Certificate management\n\n## Acceptance\n- SMP starts in Docker Compose\n- Metadata is published correctly\n- Tests verify SMP responses\n\nRefs: specs/implementation/65-etsi-interop-profile.md, REQ-C04","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:42:06.628264+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:42:06.628264+04:00","labels":["compliance:REQ-C04","component:smp","phase:10-as4","priority:medium"],"dependencies":[{"issue_id":"qerds-0dq","depends_on_id":"qerds-z6g","type":"blocks","created_at":"2026-01-18T11:42:06.629675+04:00","created_by":"Vincent"},{"issue_id":"qerds-0dq","depends_on_id":"qerds-9aj","type":"parent-child","created_at":"2026-01-22T10:10:31.977277815Z","created_by":"ubuntu"}]}
{"id":"qerds-0e7","title":"Add qualification claim guardrails (REQ-A01)","description":"Implement end-to-end guardrails so the platform cannot be misrepresented as a qualified service unless the operator is actually qualified.\n\n## Requirements\n- Implement a single source-of-truth `claim_state` / `qualification_mode` surfaced to UI + evidence generation.\n- Default to non-qualified mode in dev/test; require explicit operator configuration to enable qualified mode.\n- Ensure UI and generated artifacts never claim “qualified” unless `claim_state=qualified`.\n- Ensure docs and UI avoid misleading language (also ties into REQ-G01/REQ-G02, but this task tracks REQ-A01).\n\n## Acceptance\n- Non-qualified mode renders clear warnings and labels.\n- Switching claim_state changes only labels/presentation, not evidence truthfulness.\n- Tests cover the “no false qualified claims” guardrail.\n\nRefs: specs/implementation/10-claims-and-modes.md, REQ-A01\n","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T12:38:41.501748+04:00","created_by":"Vincent","updated_at":"2026-01-18T12:38:41.501748+04:00","labels":["compliance:REQ-A01","component:compliance","phase:9-audit","priority:critical"],"dependencies":[{"issue_id":"qerds-0e7","depends_on_id":"qerds-k4x","type":"blocks","created_at":"2026-01-18T12:40:07.480982+04:00","created_by":"Vincent"},{"issue_id":"qerds-0e7","depends_on_id":"qerds-0md","type":"blocks","created_at":"2026-01-18T12:40:07.58124+04:00","created_by":"Vincent"},{"issue_id":"qerds-0e7","depends_on_id":"qerds-24b","type":"blocks","created_at":"2026-01-18T12:40:07.679599+04:00","created_by":"Vincent"},{"issue_id":"qerds-0e7","depends_on_id":"qerds-3uw","type":"blocks","created_at":"2026-01-18T12:40:07.772645+04:00","created_by":"Vincent"},{"issue_id":"qerds-0e7","depends_on_id":"qerds-8wh","type":"parent-child","created_at":"2026-01-22T10:10:32.01071617Z","created_by":"ubuntu"}]}
{"id":"qerds-0eh","title":"Implement content encryption at rest","description":"Implement content encryption for confidentiality (REQ-E01).\n\n## Requirements\n- Content encrypted before storage in object store\n- Key management via qerds-trust\n- Decryption only for authorized sessions\n- Content access gating (REQ-E02)\n\n## Implementation\n- AES-256-GCM for content encryption\n- Data Encryption Key (DEK) per content object\n- Key Encryption Key (KEK) managed by qerds-trust\n- Encryption metadata stored in content_objects table\n\n## Access Control\n- Only recipient can decrypt after acceptance\n- Sender can decrypt their own content\n- Admin cannot decrypt without proper authorization\n\n## Acceptance\n- Content is encrypted at rest\n- Decryption works for authorized users\n- Unauthorized access blocked\n- Tests verify encryption\n\nRefs: specs/implementation/05-architecture.md, REQ-E01, REQ-E02","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:43:21.656339+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:43:21.656339+04:00","labels":["compliance:REQ-E01","compliance:REQ-E02","component:encryption","phase:4-trust","priority:high"],"dependencies":[{"issue_id":"qerds-0eh","depends_on_id":"qerds-0md","type":"blocks","created_at":"2026-01-18T11:43:21.658335+04:00","created_by":"Vincent"},{"issue_id":"qerds-0eh","depends_on_id":"qerds-rt5","type":"blocks","created_at":"2026-01-18T11:43:21.659396+04:00","created_by":"Vincent"},{"issue_id":"qerds-0eh","depends_on_id":"qerds-h3s","type":"blocks","created_at":"2026-01-18T12:36:52.132478+04:00","created_by":"Vincent"},{"issue_id":"qerds-0eh","depends_on_id":"qerds-uxv","type":"parent-child","created_at":"2026-01-22T10:10:32.042896906Z","created_by":"ubuntu"}]}
{"id":"qerds-0j6","title":"Create Preuve d'Acceptation (Proof of Acceptance) PDF template","description":"Create the PDF template for proof of acceptance.\n\n## Content\n- Provider header with logo\n- Document title: Preuve d'Acceptation\n- Delivery reference\n- Sender identity and address\n- Recipient identity (now revealed)\n- Subject line\n- Deposit timestamp\n- Acceptance timestamp\n- Recipient IAL level used for acceptance\n- Content hash/digest\n- Provider seal visualization\n- Verification instructions\n\n## Generated at EVT_ACCEPTED\n\n## Requirements\n- French language (with i18n)\n- Include both deposit and acceptance times\n- A4 format\n\n## Acceptance\n- PDF contains all required info\n- Times are clearly shown\n- Tests verify content\n\nRefs: specs/implementation/30-lifecycle-and-evidence.md, REQ-F07","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:41:08.245306+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:41:08.245306+04:00","labels":["compliance:REQ-F07","component:proof-templates","phase:8-pdf","priority:critical"],"dependencies":[{"issue_id":"qerds-0j6","depends_on_id":"qerds-4q6","type":"blocks","created_at":"2026-01-18T11:41:08.246422+04:00","created_by":"Vincent"},{"issue_id":"qerds-0j6","depends_on_id":"qerds-24b","type":"blocks","created_at":"2026-01-18T11:41:08.247203+04:00","created_by":"Vincent"},{"issue_id":"qerds-0j6","depends_on_id":"qerds-7of","type":"parent-child","created_at":"2026-01-22T10:10:32.074440173Z","created_by":"ubuntu"}]}
{"id":"qerds-0md","title":"Create qerds-trust service for signing and timestamping","description":"Implement the qerds-trust service per specs/implementation/45-trust-services.md.\n\n## Core Responsibilities\n- Provider attestation (seal/signature) over evidence payloads\n- Time attestation (RFC 3161 timestamp tokens)\n- Key lifecycle ceremony evidence\n\n## Service APIs (internal, mTLS required)\n- POST /trust/seal - seal canonical bytes with CMS/PKCS#7\n- POST /trust/timestamp - get RFC 3161 timestamp token\n- POST /trust/checkpoint - seal audit log checkpoints\n- GET /trust/keys - key inventory metadata\n- POST /trust/keys/{id}/rotate - key rotation (dual-control)\n\n## Modes\n- non_qualified: software keys (encrypted at rest), clearly labeled\n- qualified: PKCS#11 to HSM only, no fallback, fail closed\n\n## Requirements\n- All calls authenticated via mTLS\n- All operations logged\n- Algorithm suite versioning\n- Verification bundle output (certs, policies, algorithms)\n\n## Acceptance\n- Sealing produces valid CMS signatures\n- Timestamps are RFC 3161 compliant\n- Non-qualified mode works in dev\n- Tests cover crypto operations\n\nRefs: specs/implementation/45-trust-services.md, REQ-C02, REQ-C03, REQ-D04, REQ-G02","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:37:39.662044+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:37:39.662044+04:00","labels":["compliance:REQ-C02","compliance:REQ-C03","compliance:REQ-D03","compliance:REQ-D04","compliance:REQ-G02","component:crypto","phase:4-trust","priority:critical"],"dependencies":[{"issue_id":"qerds-0md","depends_on_id":"qerds-k4x","type":"blocks","created_at":"2026-01-18T11:37:39.664215+04:00","created_by":"Vincent"},{"issue_id":"qerds-0md","depends_on_id":"qerds-s5z","type":"blocks","created_at":"2026-01-18T12:36:53.179382+04:00","created_by":"Vincent"},{"issue_id":"qerds-0md","depends_on_id":"qerds-77e","type":"blocks","created_at":"2026-01-18T12:36:53.270763+04:00","created_by":"Vincent"},{"issue_id":"qerds-0md","depends_on_id":"qerds-uxv","type":"parent-child","created_at":"2026-01-22T10:10:32.107356283Z","created_by":"ubuntu"}]}
{"id":"qerds-0t9","title":"Implement sender new delivery form","description":"Create the new delivery form matching mocks/templates/sender/new.html.\n\n## Form Fields\n- Recipient email (required)\n- Recipient name (optional)\n- Subject (required)\n- Message (optional)\n- Document upload (required, PDF/DOC/DOCX/ODT, max 10MB)\n- Delivery type (standard/urgent radio buttons)\n\n## Actions\n- Cancel - go back\n- Save as draft\n- Send now\n\n## Requirements\n- Match mock design exactly\n- File upload with drag \u0026 drop\n- Form validation\n- Progress feedback\n- i18n support\n\n## Backend Integration\n- POST /sender/deliveries\n- POST /sender/deliveries/{id}/content\n- POST /sender/deliveries/{id}/deposit\n\n## Acceptance\n- Form matches mock\n- File upload works\n- Validation shows errors\n- Tests verify form flow\n\nRefs: mocks/templates/sender/new.html","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:39:56.643523+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:39:56.643523+04:00","labels":["component:sender","phase:7-frontend","priority:high"],"dependencies":[{"issue_id":"qerds-0t9","depends_on_id":"qerds-3uw","type":"blocks","created_at":"2026-01-18T11:39:56.644516+04:00","created_by":"Vincent"},{"issue_id":"qerds-0t9","depends_on_id":"qerds-rt5","type":"blocks","created_at":"2026-01-18T11:39:56.645406+04:00","created_by":"Vincent"},{"issue_id":"qerds-0t9","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:32.134363221Z","created_by":"ubuntu"}]}
{"id":"qerds-0y5","title":"Create Preuve de Dépôt (Proof of Deposit) PDF template","description":"Create the PDF template for proof of deposit.\n\n## Content (per CPCE/LRE requirements)\n- Provider header with logo\n- Document title: Preuve de Dépôt\n- Delivery reference\n- Sender identity and address\n- Recipient identity and email\n- Subject line\n- Deposit timestamp (from evidence)\n- Content hash/digest\n- Provider seal visualization\n- Timestamp authority info\n- Verification instructions (proof ID + token)\n\n## Generated at EVT_DEPOSITED\n\n## Requirements\n- French language (with i18n structure for English)\n- Legal compliance with CPCE format\n- Include qualification_label (qualified/non-qualified)\n- A4 format\n\n## Acceptance\n- PDF contains all required info\n- Visually professional\n- Verification info is clear\n- Tests verify PDF content\n\nRefs: specs/implementation/30-lifecycle-and-evidence.md, REQ-F07","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:41:06.61414+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:41:06.61414+04:00","labels":["compliance:REQ-F07","component:proof-templates","phase:8-pdf","priority:critical"],"dependencies":[{"issue_id":"qerds-0y5","depends_on_id":"qerds-4q6","type":"blocks","created_at":"2026-01-18T11:41:06.615923+04:00","created_by":"Vincent"},{"issue_id":"qerds-0y5","depends_on_id":"qerds-24b","type":"blocks","created_at":"2026-01-18T11:41:06.61685+04:00","created_by":"Vincent"},{"issue_id":"qerds-0y5","depends_on_id":"qerds-7of","type":"parent-child","created_at":"2026-01-22T10:10:32.161034292Z","created_by":"ubuntu"}]}
{"id":"qerds-1dg","title":"Testing","description":"Unit tests, integration tests, e2e tests, and security tests","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:10:04.46899409Z","created_by":"ubuntu","updated_at":"2026-01-22T10:10:04.46899409Z","labels":["epic","phase:11-testing"]}
{"id":"qerds-1id","title":"Implement delivery lifecycle state machine","description":"Create the core delivery state machine per specs/implementation/30-lifecycle-and-evidence.md.\n\n## States\n- draft -\u003e deposited -\u003e notified -\u003e notification_failed (retry path)\n- notified -\u003e available -\u003e accepted/refused -\u003e received/expired\n\n## State Transitions\n- Each transition must be validated\n- Transitions must be monotonic (no backwards)\n- Each transition creates evidence events\n\n## Evidence Events on Transition\n- EVT_DEPOSITED on deposit\n- EVT_NOTIFICATION_SENT on notification\n- EVT_NOTIFICATION_FAILED on bounce\n- EVT_AVAILABLE when content ready\n- EVT_ACCEPTED/EVT_REFUSED on decision\n- EVT_RECEIVED on content access\n- EVT_EXPIRED on timeout\n\n## Requirements\n- State machine class with validation\n- Database updates are atomic\n- All transitions logged\n- Support for jurisdiction_profile (fr_lre, eidas)\n- 15-day acceptance window enforcement (REQ-F04)\n\n## Acceptance\n- State machine enforces valid transitions only\n- Evidence events created correctly\n- Tests cover all paths\n\nRefs: specs/implementation/30-lifecycle-and-evidence.md, REQ-C01, REQ-F04","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:37:00.408789+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:37:00.408789+04:00","labels":["compliance:REQ-C01","compliance:REQ-F04","component:core","phase:3-lifecycle","priority:critical"],"dependencies":[{"issue_id":"qerds-1id","depends_on_id":"qerds-bpn","type":"blocks","created_at":"2026-01-18T11:37:00.40991+04:00","created_by":"Vincent"},{"issue_id":"qerds-1id","depends_on_id":"qerds-s5z","type":"blocks","created_at":"2026-01-18T11:37:00.410634+04:00","created_by":"Vincent"},{"issue_id":"qerds-1id","depends_on_id":"qerds-fd0","type":"parent-child","created_at":"2026-01-22T10:10:32.189589902Z","created_by":"ubuntu"}]}
{"id":"qerds-1n3","title":"Write integration tests for recipient flow","description":"Create end-to-end integration tests for the recipient flow.\n\n## Test Scenarios\n1. Receive notification (mock)\n2. Click magic link\n3. Authenticate (mock FC+)\n4. View redacted delivery info\n5. Accept delivery\n6. Verify sender identity revealed\n7. Download content\n8. Download proof of acceptance\n\n## CPCE Compliance Tests\n- Sender identity hidden before accept\n- Sender identity visible after accept\n- 15-day window enforcement\n- Expiry handling\n\n## Acceptance\n- All scenarios pass\n- CPCE compliance verified\n- Tests are reproducible\n\nRefs: specs/implementation/35-apis.md, REQ-F03, REQ-F04","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:42:51.345279+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:42:51.345279+04:00","labels":["compliance:REQ-F03","component:integration","phase:11-testing","priority:high"],"dependencies":[{"issue_id":"qerds-1n3","depends_on_id":"qerds-pwn","type":"blocks","created_at":"2026-01-18T11:42:51.346479+04:00","created_by":"Vincent"},{"issue_id":"qerds-1n3","depends_on_id":"qerds-jbl","type":"blocks","created_at":"2026-01-18T11:42:51.347455+04:00","created_by":"Vincent"},{"issue_id":"qerds-1n3","depends_on_id":"qerds-x0y","type":"blocks","created_at":"2026-01-18T11:42:51.348171+04:00","created_by":"Vincent"},{"issue_id":"qerds-1n3","depends_on_id":"qerds-1dg","type":"parent-child","created_at":"2026-01-22T10:10:32.218984687Z","created_by":"ubuntu"}]}
{"id":"qerds-1z7","title":"Implement recipient accepted view (post-acceptance)","description":"Create the post-acceptance view matching mocks/templates/recipient/accepted.html.\n\n## View Elements\n- Success hero with green checkmark\n- Acceptance confirmation header\n- Full delivery info with:\n  - REVEALED sender identity\n  - Subject\n  - Deposit date\n  - Acceptance date\n  - Reference number\n- Content download section\n- Available proofs list\n\n## Actions\n- Download document button\n- Download proof buttons\n- Verify authenticity link\n\n## Requirements\n- Match mock design exactly\n- Sender identity NOW visible\n- i18n support\n\n## Acceptance\n- View matches mock\n- Sender revealed after acceptance\n- Downloads work\n- Tests verify flow\n\nRefs: mocks/templates/recipient/accepted.html","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:40:28.993777+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:40:28.993777+04:00","labels":["component:recipient","phase:7-frontend","priority:high"],"dependencies":[{"issue_id":"qerds-1z7","depends_on_id":"qerds-grm","type":"blocks","created_at":"2026-01-18T11:40:28.994804+04:00","created_by":"Vincent"},{"issue_id":"qerds-1z7","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:32.247316068Z","created_by":"ubuntu"}]}
{"id":"qerds-24b","title":"Implement evidence object sealing and timestamping","description":"Create the evidence object sealing logic that uses qerds-trust.\n\n## Evidence Object Structure\n- payload: structured event fields\n- canonicalization: deterministic bytes\n- content_binding: cryptographic binding (SHA-256)\n- provider_attestation: CMS seal from qerds-trust\n- time_attestation: RFC 3161 timestamp\n- verification_bundle: certs, policies, algorithms\n- qualification_label: qualified/non_qualified (REQ-G02)\n\n## Requirements\n- Canonical serialization (deterministic)\n- Hash content and metadata\n- Call qerds-trust for sealing\n- Call qerds-trust for timestamping\n- Store verification bundle in object store\n- Track qualification_label\n\n## Acceptance\n- Evidence objects are properly sealed\n- Timestamps are included\n- Verification bundles are complete\n- Tests verify seal/timestamp validity\n\nRefs: specs/implementation/40-evidence-crypto-and-time.md, REQ-B02, REQ-C02, REQ-C03","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:37:50.312657+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:37:50.312657+04:00","labels":["compliance:REQ-B02","compliance:REQ-C02","compliance:REQ-C03","compliance:REQ-D03","compliance:REQ-G02","component:evidence","phase:4-trust","priority:critical"],"dependencies":[{"issue_id":"qerds-24b","depends_on_id":"qerds-a2n","type":"blocks","created_at":"2026-01-18T11:37:50.3146+04:00","created_by":"Vincent"},{"issue_id":"qerds-24b","depends_on_id":"qerds-0md","type":"blocks","created_at":"2026-01-18T11:37:50.315557+04:00","created_by":"Vincent"},{"issue_id":"qerds-24b","depends_on_id":"qerds-h3s","type":"blocks","created_at":"2026-01-18T12:36:52.224121+04:00","created_by":"Vincent"},{"issue_id":"qerds-24b","depends_on_id":"qerds-k4x","type":"blocks","created_at":"2026-01-18T12:36:52.306834+04:00","created_by":"Vincent"},{"issue_id":"qerds-24b","depends_on_id":"qerds-uxv","type":"parent-child","created_at":"2026-01-22T10:10:32.273914684Z","created_by":"ubuntu"}]}
{"id":"qerds-26p","title":"Implement evidence event generation","description":"Create the evidence event generation system per specs/implementation/30-lifecycle-and-evidence.md.\n\n## Evidence Event Types\n- EVT_DEPOSITED\n- EVT_NOTIFICATION_SENT\n- EVT_NOTIFICATION_FAILED\n- EVT_AVAILABLE\n- EVT_ACCEPTED\n- EVT_REFUSED\n- EVT_RECEIVED\n- EVT_EXPIRED\n- EVT_CONTENT_ACCESSED\n\n## Event Structure\nEach event must include:\n- event_id (UUID)\n- delivery_id\n- event_type\n- event_time (with trusted time)\n- actor (sender/recipient/system) with identification refs\n- inputs_hashes (content/metadata hashes)\n- policy_snapshot_ref\n\n## Requirements\n- Events are immutable once created\n- Events include all required fields per spec\n- Actor identification tracked\n- Policy snapshot captured at event time\n- Pre-acceptance redaction profile support (REQ-F03)\n\n## Acceptance\n- Events contain all required fields\n- Events are correctly linked to deliveries\n- Tests verify event completeness\n\nRefs: specs/implementation/30-lifecycle-and-evidence.md, REQ-B01, REQ-B03, REQ-C01","status":"tombstone","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:37:02.140623+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:37:19.774385+04:00","labels":["compliance:REQ-B01","component:evidence","phase:3-lifecycle","priority:critical"],"deleted_at":"2026-01-18T11:37:19.774385+04:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"qerds-32e","title":"Implement session management and authentication middleware","description":"Create session management for authenticated users.\n\n## Requirements\n- Secure session tokens\n- Session storage (database-backed)\n- Session expiration\n- Multi-device support\n- Session revocation\n\n## Authentication Flows\n- FranceConnect+ OIDC callback handling\n- API key authentication for machine clients\n- Admin authentication\n\n## Middleware\n- Session validation on protected routes\n- User context injection\n- Auth events logged to security log\n\n## Acceptance\n- Sessions work correctly\n- Expired sessions are rejected\n- Tests cover auth scenarios\n\nRefs: specs/implementation/20-identities-and-roles.md","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:36:58.831817+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:36:58.831817+04:00","labels":["component:auth","phase:2-api","priority:critical"],"dependencies":[{"issue_id":"qerds-32e","depends_on_id":"qerds-4b9","type":"blocks","created_at":"2026-01-18T11:36:58.83342+04:00","created_by":"Vincent"},{"issue_id":"qerds-32e","depends_on_id":"qerds-77e","type":"blocks","created_at":"2026-01-18T12:36:52.57007+04:00","created_by":"Vincent"},{"issue_id":"qerds-32e","depends_on_id":"qerds-dbc","type":"parent-child","created_at":"2026-01-22T10:10:32.301928652Z","created_by":"ubuntu"}]}
{"id":"qerds-36s","title":"Implement access review export functionality","description":"Create access review export for REQ-H06.\n\n## Export Contents\n- All RBAC bindings (user -\u003e role)\n- Last activity timestamps per user\n- Permission changes history\n\n## API\n- GET /admin/access-reviews/export\n\n## Format\n- Audit-friendly format (CSV or JSON)\n- Include timestamps\n- Include change history\n\n## Requirements\n- Admin-only access\n- Support for periodic reviews\n- Change attribution\n\n## Acceptance\n- Export generates correctly\n- All bindings included\n- Tests verify export content\n\nRefs: specs/implementation/20-identities-and-roles.md, REQ-H06","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:44:19.084993+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:44:19.084993+04:00","labels":["compliance:REQ-H06","component:access-review","phase:9-audit","priority:high"],"dependencies":[{"issue_id":"qerds-36s","depends_on_id":"qerds-j55","type":"blocks","created_at":"2026-01-18T11:44:19.086318+04:00","created_by":"Vincent"},{"issue_id":"qerds-36s","depends_on_id":"qerds-4b9","type":"blocks","created_at":"2026-01-18T11:44:19.087211+04:00","created_by":"Vincent"},{"issue_id":"qerds-36s","depends_on_id":"qerds-8wh","type":"parent-child","created_at":"2026-01-22T10:10:32.328369834Z","created_by":"ubuntu"}]}
{"id":"qerds-3uw","title":"Set up Jinja2 templates and static files serving","description":"Configure FastAPI to serve Jinja2 templates and static files for the frontend.\n\n## Requirements\n- Jinja2 template configuration\n- Static files serving (CSS, JS, fonts from mocks)\n- Template inheritance structure matching mocks\n- Context processors for common data (user, qualification_mode)\n- i18n integration (French + English per SPEC-J01, SPEC-J02)\n\n## Template Structure (from mocks/)\n- base.html - main layout\n- partials/ - reusable components\n- login.html\n- sender/dashboard.html, new.html\n- recipient/pickup.html, accepted.html\n- admin/dashboard.html\n- verify.html\n\n## Static Assets\n- CSS from mocks/static/css/main.css\n- JS from mocks/static/js/main.js\n- Self-hosted fonts (no CDN at runtime)\n\n## Acceptance\n- Templates render correctly\n- Static files are served\n- i18n switching works\n- Tests verify page rendering\n\nRefs: mocks/, AGENTS.md (CSS guidelines)","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:39:29.290326+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:39:29.290326+04:00","labels":["component:templates","phase:7-frontend","priority:critical"],"dependencies":[{"issue_id":"qerds-3uw","depends_on_id":"qerds-80v","type":"blocks","created_at":"2026-01-18T11:39:29.291895+04:00","created_by":"Vincent"},{"issue_id":"qerds-3uw","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:32.356081668Z","created_by":"ubuntu"}]}
{"id":"qerds-45k","title":"Implement background worker service (qerds-worker)","description":"Create the background worker service for async processing.\n\n## Job Types\n- send_notification - send initial/reminder emails\n- check_expiry - check for 15-day window expiry\n- process_bounce - handle email bounces\n- seal_checkpoint - periodic audit log sealing\n- enforce_retention - cleanup per retention policy\n\n## Requirements\n- Use PostgreSQL-backed job queue\n- Worker process lifecycle management\n- Graceful shutdown\n- Error handling and retries\n- Monitoring/health checks\n- Support for scheduled jobs\n\n## Scheduled Tasks\n- Expiry check: check deliveries past acceptance_deadline_at\n- Checkpoint sealing: periodic (e.g., hourly)\n- Retention enforcement: daily\n\n## Acceptance\n- Worker processes jobs reliably\n- Scheduled tasks run on time\n- Errors are handled gracefully\n- Tests cover all job types\n\nRefs: specs/implementation/05-architecture.md, REQ-F04, REQ-C05","status":"tombstone","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:39:06.200214+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:39:13.585956+04:00","labels":["component:worker","phase:6-notifications","priority:high"],"deleted_at":"2026-01-18T11:39:13.585956+04:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"qerds-4b9","title":"Implement RBAC/ABAC authorization system","description":"Create the authorization system for role-based and attribute-based access control.\n\n## Role Classes (per specs/implementation/20-identities-and-roles.md)\n- admin\n- security_officer\n- auditor\n- support\n- registration_officer\n- sender_user\n- recipient_user\n- api_client\n\n## Requirements\n- Role definitions in database\n- Permission checking middleware\n- Separation of duties enforcement\n- Dual-control for sensitive operations (key ops, config changes)\n- All authorization events logged\n\n## ABAC Attributes\n- Organization membership\n- Case assignment\n- Environment\n- Purpose-of-access\n\n## Acceptance\n- Roles are enforced on all endpoints\n- Unauthorized access is blocked and logged\n- Tests cover permission scenarios\n\nRefs: specs/implementation/20-identities-and-roles.md, REQ-D02, REQ-H06","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:36:27.896346+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:36:27.896346+04:00","labels":["compliance:REQ-D02","compliance:REQ-H06","component:auth","phase:2-api","priority:critical"],"dependencies":[{"issue_id":"qerds-4b9","depends_on_id":"qerds-bpn","type":"blocks","created_at":"2026-01-18T11:36:27.897473+04:00","created_by":"Vincent"},{"issue_id":"qerds-4b9","depends_on_id":"qerds-dbc","type":"parent-child","created_at":"2026-01-22T10:10:32.384450909Z","created_by":"ubuntu"}]}
{"id":"qerds-4kd","title":"Write end-to-end tests for complete LRE flow","description":"Create full end-to-end tests for the complete LRE lifecycle.\n\n## Test Scenario\n1. Sender creates and deposits delivery\n2. Notification is sent\n3. Recipient receives magic link\n4. Recipient authenticates via FC+\n5. Recipient accepts delivery\n6. Content is downloaded\n7. All proofs are generated\n8. Verification works\n\n## Variations\n- Accept flow\n- Refuse flow\n- Expiry flow\n\n## CPCE Compliance Verification\n- Sender identity redaction\n- 15-day window\n- Consumer consent check\n\n## Acceptance\n- All flows work end-to-end\n- Evidence is valid throughout\n- CPCE compliance verified\n- Tests run in Docker\n\nRefs: specs/requirements.md","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:44:22.484282+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:44:22.484282+04:00","labels":["component:e2e","phase:11-testing","priority:critical"],"dependencies":[{"issue_id":"qerds-4kd","depends_on_id":"qerds-1n3","type":"blocks","created_at":"2026-01-18T11:44:22.485498+04:00","created_by":"Vincent"},{"issue_id":"qerds-4kd","depends_on_id":"qerds-4qg","type":"blocks","created_at":"2026-01-18T11:44:22.48646+04:00","created_by":"Vincent"},{"issue_id":"qerds-4kd","depends_on_id":"qerds-0y5","type":"blocks","created_at":"2026-01-18T11:44:22.487256+04:00","created_by":"Vincent"},{"issue_id":"qerds-4kd","depends_on_id":"qerds-0j6","type":"blocks","created_at":"2026-01-18T11:44:22.487997+04:00","created_by":"Vincent"},{"issue_id":"qerds-4kd","depends_on_id":"qerds-6nu","type":"blocks","created_at":"2026-01-18T11:44:22.488736+04:00","created_by":"Vincent"},{"issue_id":"qerds-4kd","depends_on_id":"qerds-jp9","type":"blocks","created_at":"2026-01-18T11:44:22.489454+04:00","created_by":"Vincent"},{"issue_id":"qerds-4kd","depends_on_id":"qerds-1dg","type":"parent-child","created_at":"2026-01-22T10:10:32.412565766Z","created_by":"ubuntu"}]}
{"id":"qerds-4q6","title":"Set up WeasyPrint for PDF proof generation","description":"Configure WeasyPrint for generating human-readable PDF proofs.\n\n## Requirements\n- WeasyPrint integration with FastAPI\n- HTML/CSS templates for proofs\n- Consistent styling with web UI\n- Support for French government styling\n- Embedded fonts (self-hosted)\n- Qualified seal visualization (or non-qualified in dev)\n\n## Template Approach\n- Use Jinja2 templates for PDF HTML\n- Same CSS variables where applicable\n- A4 page format\n- Legal footer with verification info\n\n## Acceptance\n- WeasyPrint generates valid PDFs\n- PDFs render correctly\n- Fonts are embedded\n- Tests verify PDF generation\n\nRefs: REQ-F07","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:40:47.822906+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:40:47.822906+04:00","labels":["compliance:REQ-F07","component:pdf","phase:8-pdf","priority:critical"],"dependencies":[{"issue_id":"qerds-4q6","depends_on_id":"qerds-esn","type":"blocks","created_at":"2026-01-18T11:40:47.82496+04:00","created_by":"Vincent"},{"issue_id":"qerds-4q6","depends_on_id":"qerds-7of","type":"parent-child","created_at":"2026-01-22T10:10:32.442167227Z","created_by":"ubuntu"}]}
{"id":"qerds-4qg","title":"Write integration tests for sender flow","description":"Create end-to-end integration tests for the sender flow.\n\n## Test Scenarios\n1. Create draft delivery\n2. Upload content\n3. Deposit and send\n4. Verify evidence created\n5. Download proof of deposit\n\n## Requirements\n- Tests run against Docker environment\n- Full API flow tested\n- Evidence verification included\n\n## Acceptance\n- All scenarios pass\n- Evidence is valid\n- Tests are reproducible\n\nRefs: specs/implementation/35-apis.md","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:42:49.670704+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:42:49.670704+04:00","labels":["component:integration","phase:11-testing","priority:high"],"dependencies":[{"issue_id":"qerds-4qg","depends_on_id":"qerds-pwn","type":"blocks","created_at":"2026-01-18T11:42:49.671831+04:00","created_by":"Vincent"},{"issue_id":"qerds-4qg","depends_on_id":"qerds-rt5","type":"blocks","created_at":"2026-01-18T11:42:49.672784+04:00","created_by":"Vincent"},{"issue_id":"qerds-4qg","depends_on_id":"qerds-1dg","type":"parent-child","created_at":"2026-01-22T10:10:32.477234282Z","created_by":"ubuntu"}]}
{"id":"qerds-5gc","title":"Frontend Views","description":"Jinja2 templates, user interfaces, and i18n","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:09:54.180269965Z","created_by":"ubuntu","updated_at":"2026-01-22T10:09:54.180269965Z","labels":["epic","phase:7-frontend"]}
{"id":"qerds-5jg","title":"Notifications System","description":"Email notifications, background worker, and job queue","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:09:52.85119047Z","created_by":"ubuntu","updated_at":"2026-01-22T10:09:52.85119047Z","labels":["epic","phase:6-notifications"]}
{"id":"qerds-5rt","title":"Implement login page and authentication views","description":"Create the login page and authentication views matching mocks/templates/login.html.\n\n## Views\n- GET /login - login page with FranceConnect+ button\n- GET /auth/callback - OIDC callback handler\n- GET /logout - logout handler\n\n## Requirements\n- Match mock design exactly\n- FranceConnect+ button styling\n- Dev mode warning banner\n- Alternative email/password form (for non-FC+ auth)\n- i18n support (French + English)\n\n## Acceptance\n- Login page matches mock\n- FranceConnect+ flow works\n- Dev banner shows in non-qualified mode\n- Responsive design\n\nRefs: mocks/templates/login.html","status":"tombstone","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:39:30.953996+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:39:51.263704+04:00","labels":["component:auth","phase:7-frontend","priority:critical"],"deleted_at":"2026-01-18T11:39:51.263704+04:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"qerds-66j","title":"Backend/frontend separation boundaries (REQ-I01)","description":"Enforce a clear backend/frontend separation in repository layout, build artifacts, and Docker images.\n\n## Requirements\n- Define what constitutes the certified core (backend) vs frontend assets.\n- Ensure Docker images/build steps keep backend logic isolated from UI assets where feasible.\n- Ensure frontend can be updated without requiring changes to backend core modules (as a design goal).\n\n## Acceptance\n- Repo and Docker structure reflects a clear separation.\n- Documented boundaries exist and are enforceable in CI/build.\n\nRefs: specs/requirements.md, specs/implementation/05-architecture.md, REQ-I01\n","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T12:39:44.47991+04:00","created_by":"Vincent","updated_at":"2026-01-18T12:39:44.47991+04:00","labels":["compliance:REQ-I01","component:architecture","phase:0-setup","priority:high"],"dependencies":[{"issue_id":"qerds-66j","depends_on_id":"qerds-esn","type":"blocks","created_at":"2026-01-18T12:40:41.213123+04:00","created_by":"Vincent"},{"issue_id":"qerds-66j","depends_on_id":"qerds-80v","type":"blocks","created_at":"2026-01-18T12:40:41.307333+04:00","created_by":"Vincent"},{"issue_id":"qerds-66j","depends_on_id":"qerds-3uw","type":"blocks","created_at":"2026-01-18T12:40:41.397343+04:00","created_by":"Vincent"},{"issue_id":"qerds-66j","depends_on_id":"qerds-znp","type":"parent-child","created_at":"2026-01-22T10:10:32.504863271Z","created_by":"ubuntu"}]}
{"id":"qerds-6nu","title":"Create Preuve de Refus (Proof of Refusal) PDF template","description":"Create the PDF template for proof of refusal.\n\n## Content\n- Provider header with logo\n- Document title: Preuve de Refus\n- Delivery reference\n- Sender identity\n- Recipient identity (revealed after refusal)\n- Subject line\n- Deposit timestamp\n- Refusal timestamp\n- Provider seal visualization\n- Verification instructions\n\n## Generated at EVT_REFUSED\n\n## Requirements\n- French language (with i18n)\n- A4 format\n\n## Acceptance\n- PDF contains all required info\n- Tests verify content\n\nRefs: specs/implementation/30-lifecycle-and-evidence.md, REQ-F07","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:41:10.633166+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:41:10.633166+04:00","labels":["compliance:REQ-F07","component:proof-templates","phase:8-pdf","priority:high"],"dependencies":[{"issue_id":"qerds-6nu","depends_on_id":"qerds-4q6","type":"blocks","created_at":"2026-01-18T11:41:10.635141+04:00","created_by":"Vincent"},{"issue_id":"qerds-6nu","depends_on_id":"qerds-24b","type":"blocks","created_at":"2026-01-18T11:41:10.636073+04:00","created_by":"Vincent"},{"issue_id":"qerds-6nu","depends_on_id":"qerds-7of","type":"parent-child","created_at":"2026-01-22T10:10:32.532462415Z","created_by":"ubuntu"}]}
{"id":"qerds-6t4","title":"Implement dispute timeline reconstruction","description":"Create dispute reconstruction feature for REQ-H10.\n\n## Features\n- Enumerate all evidence events for a delivery in order\n- Provide verification outputs for each evidence object\n- Produce controlled disclosure export\n- Support redaction for privacy\n\n## API\n- GET /admin/deliveries/{id}/timeline - get full timeline\n- POST /admin/deliveries/{id}/export - create disclosure pack\n\n## Requirements\n- Include all evidence events\n- Verify each piece of evidence\n- Redaction support for GDPR\n- Access controlled (admin only)\n\n## Acceptance\n- Timelines are complete\n- Verification results included\n- Exports are correctly redacted\n- Tests verify reconstruction\n\nRefs: specs/implementation/30-lifecycle-and-evidence.md, REQ-H10","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:41:33.391501+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:41:33.391501+04:00","labels":["compliance:REQ-H10","component:disputes","phase:9-audit","priority:high"],"dependencies":[{"issue_id":"qerds-6t4","depends_on_id":"qerds-j55","type":"blocks","created_at":"2026-01-18T11:41:33.392751+04:00","created_by":"Vincent"},{"issue_id":"qerds-6t4","depends_on_id":"qerds-24b","type":"blocks","created_at":"2026-01-18T11:41:33.39366+04:00","created_by":"Vincent"},{"issue_id":"qerds-6t4","depends_on_id":"qerds-8wh","type":"parent-child","created_at":"2026-01-22T10:10:32.560741559Z","created_by":"ubuntu"}]}
{"id":"qerds-6yi","title":"Implement Verification API endpoints","description":"Create the public verification API endpoints per specs/implementation/35-apis.md.\n\n## Endpoints\n- GET /verify/proofs/{proof_id}?token=... - verify proof authenticity\n- GET /verify/deliveries/{id}/status?token=... - check delivery status\n\n## Requirements\n- Token-gated access (no full auth required)\n- Minimal PII exposure (REQ-E03)\n- Pre-acceptance: no sender identity revealed (REQ-F03)\n- Verification output includes:\n  - Proof validity (signature/timestamp)\n  - Delivery existence\n  - Timestamps\n  - Integrity status\n- Support for third-party verifiers (CPCE REQ-F01)\n\n## Acceptance\n- Verification works for valid proofs\n- Invalid proofs are rejected\n- Sender identity protected pre-acceptance\n- Tests verify all scenarios\n\nRefs: specs/implementation/35-apis.md, REQ-F01, REQ-F03, REQ-E03","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:38:36.033871+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:38:36.033871+04:00","labels":["compliance:REQ-E03","compliance:REQ-F01","compliance:REQ-F03","component:verify","phase:2-api","priority:high"],"dependencies":[{"issue_id":"qerds-6yi","depends_on_id":"qerds-80v","type":"blocks","created_at":"2026-01-18T11:38:36.035824+04:00","created_by":"Vincent"},{"issue_id":"qerds-6yi","depends_on_id":"qerds-24b","type":"blocks","created_at":"2026-01-18T11:38:36.036625+04:00","created_by":"Vincent"},{"issue_id":"qerds-6yi","depends_on_id":"qerds-dbc","type":"parent-child","created_at":"2026-01-22T10:10:32.588373804Z","created_by":"ubuntu"}]}
{"id":"qerds-77e","title":"Implement security event logging","description":"Create security-specific event logging for REQ-D08.\n\n## Security Events to Log\n- Authentication attempts (success/failure)\n- Authorization decisions\n- Admin actions\n- Key operations\n- Configuration changes\n- Access to sensitive data\n\n## Requirements\n- Structured log format\n- Tamper-evident (part of audit log)\n- Include actor identity\n- Include action details\n- Include timestamp\n\n## Integration\n- Hook into auth middleware\n- Hook into admin endpoints\n- Hook into qerds-trust\n\n## Acceptance\n- All security events logged\n- Logs are tamper-evident\n- Can be exported for audit\n- Tests verify logging\n\nRefs: specs/implementation/50-audit-logging-and-immutability.md, REQ-D08","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:44:17.373847+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:44:17.373847+04:00","labels":["compliance:REQ-D08","component:security","phase:1-backend","priority:critical"],"dependencies":[{"issue_id":"qerds-77e","depends_on_id":"qerds-s5z","type":"blocks","created_at":"2026-01-18T11:44:17.376075+04:00","created_by":"Vincent"},{"issue_id":"qerds-77e","depends_on_id":"qerds-4b9","type":"blocks","created_at":"2026-01-18T11:44:17.377136+04:00","created_by":"Vincent"},{"issue_id":"qerds-77e","depends_on_id":"qerds-az5","type":"parent-child","created_at":"2026-01-22T10:10:32.617909373Z","created_by":"ubuntu"}]}
{"id":"qerds-77m","title":"Write unit tests for cryptographic operations","description":"Create comprehensive tests for crypto/evidence sealing.\n\n## Test Coverage\n- CMS signature generation and validation\n- RFC 3161 timestamp token handling\n- Hash computation\n- Verification bundle completeness\n- Qualification label enforcement\n- Key rotation scenarios\n\n## Requirements\n- 95%+ coverage for crypto code\n- Use test keys (no real HSM in tests)\n- Verify signature validity\n- Test for algorithm agility\n\n## Acceptance\n- All tests pass\n- Crypto operations verified\n- Edge cases covered\n\nRefs: specs/implementation/40-evidence-crypto-and-time.md","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:42:46.771558+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:42:46.771558+04:00","labels":["component:unit-tests","phase:11-testing","priority:critical"],"dependencies":[{"issue_id":"qerds-77m","depends_on_id":"qerds-pwn","type":"blocks","created_at":"2026-01-18T11:42:46.773492+04:00","created_by":"Vincent"},{"issue_id":"qerds-77m","depends_on_id":"qerds-0md","type":"blocks","created_at":"2026-01-18T11:42:46.77461+04:00","created_by":"Vincent"},{"issue_id":"qerds-77m","depends_on_id":"qerds-24b","type":"blocks","created_at":"2026-01-18T11:42:46.775627+04:00","created_by":"Vincent"},{"issue_id":"qerds-77m","depends_on_id":"qerds-1dg","type":"parent-child","created_at":"2026-01-22T10:10:32.646691996Z","created_by":"ubuntu"}]}
{"id":"qerds-7ad","title":"Implement recipient accepted view (post-acceptance)","description":"Create the post-acceptance view matching mocks/templates/recipient/accepted.html.\n\n## View Elements\n- Success hero with green checkmark\n- Acceptance confirmation header\n- Full delivery info with:\n  - REVEALED sender identity\n  - Subject\n  - Deposit date\n  - Acceptance date\n  - Reference number\n- Content download section\n- Available proofs list\n\n## Actions\n- Download document button\n- Download proof buttons\n- Verify authenticity link\n\n## Requirements\n- Match mock design exactly\n- Sender identity NOW visible\n- i18n support\n\n## Acceptance\n- View matches mock\n- Sender revealed after acceptance\n- Downloads work\n- Tests verify flow\n\nRefs: mocks/templates/recipient/accepted.html","status":"tombstone","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:40:11.059061+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:40:27.248129+04:00","labels":["component:recipient","phase:7-frontend","priority:high"],"deleted_at":"2026-01-18T11:40:27.248129+04:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"qerds-7br","title":"Implement PostgreSQL-backed job queue","description":"Create a custom PostgreSQL-backed job queue for background processing.\n\n## Requirements\n- Use SELECT ... FOR UPDATE SKIP LOCKED pattern\n- Support for scheduled jobs (run_at)\n- Retry logic with exponential backoff\n- Job types for:\n  - Notification sending\n  - Scheduled transitions (expiry, 15-day window)\n  - Log checkpoint sealing\n  - Retention enforcement\n\n## Database Schema\n- jobs table with job_id, job_type, run_at, locked_at, locked_by, attempts, payload_json\n\n## Features\n- Worker can process multiple job types\n- Dead letter handling for failed jobs\n- Job status tracking\n- Graceful shutdown\n\n## Acceptance\n- Jobs are processed reliably\n- Failed jobs are retried\n- No duplicate processing\n- Tests cover edge cases\n\nRefs: specs/implementation/05-architecture.md","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:36:06.973283+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:36:06.973283+04:00","labels":["component:worker","phase:1-backend","priority:high"],"dependencies":[{"issue_id":"qerds-7br","depends_on_id":"qerds-bpn","type":"blocks","created_at":"2026-01-18T11:36:06.974898+04:00","created_by":"Vincent"},{"issue_id":"qerds-7br","depends_on_id":"qerds-az5","type":"parent-child","created_at":"2026-01-22T10:10:32.673982273Z","created_by":"ubuntu"}]}
{"id":"qerds-7ij","title":"Implement retention policy enforcement","description":"Create retention policy enforcement for CPCE compliance.\n\n## Requirements (per REQ-F05, REQ-H02)\n- Minimum 1 year retention for proof of receipt\n- Configurable retention policies per artifact type\n- Retention actions tracking (archive/delete)\n- Audit logging of all retention actions\n\n## Database Tables\n- retention_policies\n- retention_actions\n\n## Worker Job\n- Daily retention enforcement job\n- Archive artifacts past retention\n- Delete only after archive confirmation\n- Never delete before minimum period\n\n## Acceptance\n- Policies are enforced correctly\n- Actions are logged\n- No premature deletion\n- Tests verify retention logic\n\nRefs: specs/implementation/70-storage-and-retention.md, REQ-F05, REQ-H02","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:41:31.968835+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:41:31.968835+04:00","labels":["compliance:REQ-F05","compliance:REQ-H02","component:retention","phase:9-audit","priority:high"],"dependencies":[{"issue_id":"qerds-7ij","depends_on_id":"qerds-zni","type":"blocks","created_at":"2026-01-18T11:41:31.970021+04:00","created_by":"Vincent"},{"issue_id":"qerds-7ij","depends_on_id":"qerds-bpn","type":"blocks","created_at":"2026-01-18T11:41:31.97091+04:00","created_by":"Vincent"},{"issue_id":"qerds-7ij","depends_on_id":"qerds-h3s","type":"blocks","created_at":"2026-01-18T12:36:52.39508+04:00","created_by":"Vincent"},{"issue_id":"qerds-7ij","depends_on_id":"qerds-s5z","type":"blocks","created_at":"2026-01-18T12:36:52.482851+04:00","created_by":"Vincent"},{"issue_id":"qerds-7ij","depends_on_id":"qerds-8wh","type":"parent-child","created_at":"2026-01-22T10:10:32.700621214Z","created_by":"ubuntu"}]}
{"id":"qerds-7of","title":"PDF Proof Generation","description":"WeasyPrint setup and PDF proof templates","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:10:01.410708917Z","created_by":"ubuntu","updated_at":"2026-01-22T10:10:01.410708917Z","labels":["epic","phase:8-pdf"]}
{"id":"qerds-7r9","title":"Implement key lifecycle management","description":"Create key lifecycle management for REQ-H07.\n\n## Key Types\n- Evidence sealing key\n- Audit log chain key\n- Content encryption KEK\n- Timestamp key (if self-hosted TSA)\n\n## Lifecycle Events\n- Generate\n- Activate\n- Rotate\n- Revoke\n- Retire\n\n## Requirements\n- Dual-control for sensitive operations\n- Ceremony log generation\n- Key inventory tracking\n- HSM integration for qualified mode\n\n## API\n- GET /trust/keys - key inventory\n- POST /trust/keys/{id}/rotate - rotate key\n- POST /trust/keys/ceremony - initiate key ceremony\n\n## Acceptance\n- Key lifecycle tracked\n- Ceremony logs generated\n- Dual-control enforced\n- Tests verify lifecycle\n\nRefs: specs/implementation/45-trust-services.md, REQ-H07","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:43:44.839621+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:43:44.839621+04:00","labels":["compliance:REQ-H07","component:keys","phase:4-trust","priority:high"],"dependencies":[{"issue_id":"qerds-7r9","depends_on_id":"qerds-0md","type":"blocks","created_at":"2026-01-18T11:43:44.841796+04:00","created_by":"Vincent"},{"issue_id":"qerds-7r9","depends_on_id":"qerds-uxv","type":"parent-child","created_at":"2026-01-22T10:10:32.727528636Z","created_by":"ubuntu"}]}
{"id":"qerds-80v","title":"Create FastAPI application structure with API segmentation","description":"Set up the FastAPI application with proper API namespace segmentation.\n\n## API Namespaces (per specs/implementation/35-apis.md)\n- /sender/* - Sender operations (authenticated)\n- /recipient/* - Recipient portal operations\n- /verify/* - Third-party verification (public but token-gated)\n- /admin/* - Operational/admin endpoints (admin auth)\n\n## Requirements\n- FastAPI app factory pattern\n- Separate routers for each namespace\n- OpenAPI documentation\n- Request/response validation with Pydantic\n- Error handling middleware\n- CORS configuration\n- Request ID middleware for tracing\n\n## Acceptance\n- API starts and serves requests\n- OpenAPI docs available at /docs\n- Proper error responses\n- Tests for basic routes\n\nRefs: specs/implementation/35-apis.md","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:36:26.149709+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:36:26.149709+04:00","labels":["component:api","phase:2-api","priority:critical"],"dependencies":[{"issue_id":"qerds-80v","depends_on_id":"qerds-k4x","type":"blocks","created_at":"2026-01-18T11:36:26.151278+04:00","created_by":"Vincent"},{"issue_id":"qerds-80v","depends_on_id":"qerds-dbc","type":"parent-child","created_at":"2026-01-22T10:10:32.754934739Z","created_by":"ubuntu"}]}
{"id":"qerds-8rz","title":"Qualified-mode enforcement + fail-closed behavior (REQ-B04)","description":"Implement the platform-level controls needed to support a qualified operational mode (fail-closed) and the evidence labeling/handling needed for eIDAS Article 44(2) presumption.\n\n## Requirements\n- Ensure “qualified mode” has no silent fallback paths (fail closed if qualified prerequisites are missing).\n- Ensure evidence objects and exports clearly reflect qualified vs non-qualified status.\n- Ensure configuration, key storage, and time source requirements are enforced at runtime for qualified mode.\n\n## Acceptance\n- In qualified mode, attempts to seal/timestamp without qualified prerequisites fail closed.\n- In non-qualified/dev mode, evidence is clearly labeled non-qualified.\n- Tests cover mode switches and failure behavior.\n\nRefs: specs/implementation/10-claims-and-modes.md, specs/implementation/45-trust-services.md, specs/implementation/40-evidence-crypto-and-time.md, REQ-B04\n","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T12:39:11.76582+04:00","created_by":"Vincent","updated_at":"2026-01-18T12:39:11.76582+04:00","labels":["compliance:REQ-B04","component:trust","phase:4-trust","priority:critical"],"dependencies":[{"issue_id":"qerds-8rz","depends_on_id":"qerds-k4x","type":"blocks","created_at":"2026-01-18T12:40:16.995564+04:00","created_by":"Vincent"},{"issue_id":"qerds-8rz","depends_on_id":"qerds-0md","type":"blocks","created_at":"2026-01-18T12:40:17.091889+04:00","created_by":"Vincent"},{"issue_id":"qerds-8rz","depends_on_id":"qerds-24b","type":"blocks","created_at":"2026-01-18T12:40:17.193151+04:00","created_by":"Vincent"},{"issue_id":"qerds-8rz","depends_on_id":"qerds-0e7","type":"blocks","created_at":"2026-01-18T12:40:17.291429+04:00","created_by":"Vincent"},{"issue_id":"qerds-8rz","depends_on_id":"qerds-uxv","type":"parent-child","created_at":"2026-01-22T10:10:32.783074091Z","created_by":"ubuntu"}]}
{"id":"qerds-8uh","title":"Implement AS4 message receiving integration","description":"Integrate qerds-api with Domibus for receiving deliveries via AS4.\n\n## Features\n- Receive delivery from external QERDS provider\n- Validate message format per ETSI spec\n- Create local delivery record\n- Generate receipt evidence\n- Trigger recipient notification\n\n## Message Processing\n- Validate ETSI EN 319 522-4 compliance\n- Extract content and metadata\n- Create EVT_AS4_RECEIVED event\n\n## Acceptance\n- Messages are received correctly\n- Local delivery is created\n- Evidence is captured\n- Tests verify AS4 compliance\n\nRefs: specs/implementation/65-etsi-interop-profile.md, REQ-C04","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:42:04.904573+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:42:04.904573+04:00","labels":["compliance:REQ-C04","component:receiving","phase:10-as4","priority:high"],"dependencies":[{"issue_id":"qerds-8uh","depends_on_id":"qerds-cdg","type":"blocks","created_at":"2026-01-18T11:42:04.907366+04:00","created_by":"Vincent"},{"issue_id":"qerds-8uh","depends_on_id":"qerds-1id","type":"blocks","created_at":"2026-01-18T11:42:04.908475+04:00","created_by":"Vincent"},{"issue_id":"qerds-8uh","depends_on_id":"qerds-e0i","type":"blocks","created_at":"2026-01-18T11:42:04.909288+04:00","created_by":"Vincent"},{"issue_id":"qerds-8uh","depends_on_id":"qerds-9aj","type":"parent-child","created_at":"2026-01-22T10:10:32.810521612Z","created_by":"ubuntu"}]}
{"id":"qerds-8wh","title":"Audit and Compliance","description":"Audit pack export, retention policies, and compliance artifacts","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:10:02.422129698Z","created_by":"ubuntu","updated_at":"2026-01-22T10:10:02.422129698Z","labels":["epic","phase:9-audit"]}
{"id":"qerds-9aj","title":"AS4 Interoperability","description":"Domibus AS4 gateway and ETSI interoperability","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:10:03.678122242Z","created_by":"ubuntu","updated_at":"2026-01-22T10:10:03.678122242Z","labels":["epic","phase:10-as4"]}
{"id":"qerds-a2n","title":"Implement evidence event generation","description":"Create the evidence event generation system per specs/implementation/30-lifecycle-and-evidence.md.\n\n## Evidence Event Types\n- EVT_DEPOSITED\n- EVT_NOTIFICATION_SENT\n- EVT_NOTIFICATION_FAILED\n- EVT_AVAILABLE\n- EVT_ACCEPTED\n- EVT_REFUSED\n- EVT_RECEIVED\n- EVT_EXPIRED\n- EVT_CONTENT_ACCESSED\n\n## Event Structure\nEach event must include:\n- event_id (UUID)\n- delivery_id\n- event_type\n- event_time (with trusted time)\n- actor (sender/recipient/system) with identification refs\n- inputs_hashes (content/metadata hashes)\n- policy_snapshot_ref\n\n## Requirements\n- Events are immutable once created\n- Events include all required fields per spec\n- Actor identification tracked\n- Policy snapshot captured at event time\n- Pre-acceptance redaction profile support (REQ-F03)\n\n## Acceptance\n- Events contain all required fields\n- Events are correctly linked to deliveries\n- Tests verify event completeness\n\nRefs: specs/implementation/30-lifecycle-and-evidence.md, REQ-B01, REQ-B03, REQ-C01","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:37:20.913867+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:37:20.913867+04:00","labels":["compliance:REQ-B01","compliance:REQ-B03","compliance:REQ-C01","compliance:REQ-F03","component:evidence","phase:3-lifecycle","priority:critical"],"dependencies":[{"issue_id":"qerds-a2n","depends_on_id":"qerds-1id","type":"blocks","created_at":"2026-01-18T11:37:20.915095+04:00","created_by":"Vincent"},{"issue_id":"qerds-a2n","depends_on_id":"qerds-fd0","type":"parent-child","created_at":"2026-01-22T10:10:32.838074459Z","created_by":"ubuntu"}]}
{"id":"qerds-ad1","title":"Implement session management and authentication middleware","description":"Create session management for authenticated users.\n\n## Requirements\n- Secure session tokens\n- Session storage (database-backed)\n- Session expiration\n- Multi-device support\n- Session revocation\n\n## Authentication Flows\n- FranceConnect+ OIDC callback handling\n- API key authentication for machine clients\n- Admin authentication\n\n## Middleware\n- Session validation on protected routes\n- User context injection\n- Auth events logged to security log\n\n## Acceptance\n- Sessions work correctly\n- Expired sessions are rejected\n- Tests cover auth scenarios\n\nRefs: specs/implementation/20-identities-and-roles.md","status":"tombstone","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:36:29.209581+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:37:19.696043+04:00","labels":["component:auth","phase:2-api","priority:critical"],"deleted_at":"2026-01-18T11:37:19.696043+04:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"qerds-ax1","title":"Write unit tests for delivery lifecycle state machine","description":"Create comprehensive unit tests for the state machine.\n\n## Test Coverage\n- All valid state transitions\n- Invalid transition rejection\n- 15-day window enforcement\n- Evidence event generation on transition\n- Pre-acceptance redaction enforcement\n- Concurrent transition handling\n\n## Requirements\n- 95%+ coverage for state machine code\n- Edge cases covered\n- Tests for all states and transitions\n\n## Acceptance\n- All tests pass\n- Coverage requirement met\n- Edge cases verified\n\nRefs: specs/implementation/30-lifecycle-and-evidence.md","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:42:43.847749+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:42:43.847749+04:00","labels":["component:unit-tests","phase:11-testing","priority:critical"],"dependencies":[{"issue_id":"qerds-ax1","depends_on_id":"qerds-pwn","type":"blocks","created_at":"2026-01-18T11:42:43.848976+04:00","created_by":"Vincent"},{"issue_id":"qerds-ax1","depends_on_id":"qerds-1id","type":"blocks","created_at":"2026-01-18T11:42:43.850144+04:00","created_by":"Vincent"},{"issue_id":"qerds-ax1","depends_on_id":"qerds-1dg","type":"parent-child","created_at":"2026-01-22T10:10:32.866412282Z","created_by":"ubuntu"}]}
{"id":"qerds-axj","title":"Write security tests (auth bypass, injection, etc.)","description":"Create security-focused tests.\n\n## Test Categories\n- Authentication bypass attempts\n- Authorization boundary tests\n- Input validation (SQL injection, XSS)\n- IDOR (Insecure Direct Object Reference)\n- Rate limiting\n- Session security\n\n## Requirements\n- Cover OWASP Top 10\n- Test all input vectors\n- Test role boundaries\n\n## Acceptance\n- No security vulnerabilities found\n- All boundaries enforced\n- Tests are comprehensive\n\nRefs: AGENTS.md (security requirements)","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:44:20.871939+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:44:20.871939+04:00","labels":["component:security","phase:11-testing","priority:critical"],"dependencies":[{"issue_id":"qerds-axj","depends_on_id":"qerds-pwn","type":"blocks","created_at":"2026-01-18T11:44:20.874116+04:00","created_by":"Vincent"},{"issue_id":"qerds-axj","depends_on_id":"qerds-wla","type":"blocks","created_at":"2026-01-18T11:44:20.875536+04:00","created_by":"Vincent"},{"issue_id":"qerds-axj","depends_on_id":"qerds-1dg","type":"parent-child","created_at":"2026-01-22T10:10:32.893104693Z","created_by":"ubuntu"}]}
{"id":"qerds-az5","title":"Backend Infrastructure","description":"Core backend services, database schema, and infrastructure components","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:09:40.368937914Z","created_by":"ubuntu","updated_at":"2026-01-22T10:09:40.368937914Z","labels":["epic","phase:1-backend"]}
{"id":"qerds-b9a","title":"Implement i18n infrastructure (French + English)","description":"Set up internationalization for all user-facing content.\n\n## Requirements (per SPEC-J01, SPEC-J02)\n- All UI text externalized\n- French (primary) and English support\n- Email templates in both languages\n- PDF proofs in both languages\n- Error messages translated\n\n## Implementation\n- Use Python gettext or similar\n- Language detection from user preference\n- Language switcher in UI\n- Translation files structure\n\n## Files to Translate\n- Jinja2 templates\n- Email templates\n- PDF proof templates\n- API error messages\n- Form validation messages\n\n## Acceptance\n- All text is externalized\n- French and English complete\n- Language switching works\n- Tests verify translations\n\nRefs: specs/requirements.md (SPEC-J01, SPEC-J02)","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:43:17.85787+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:43:17.85787+04:00","labels":["component:i18n","phase:7-frontend","priority:high"],"dependencies":[{"issue_id":"qerds-b9a","depends_on_id":"qerds-3uw","type":"blocks","created_at":"2026-01-18T11:43:17.859998+04:00","created_by":"Vincent"},{"issue_id":"qerds-b9a","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:32.920259357Z","created_by":"ubuntu"}]}
{"id":"qerds-bf1","title":"Implement sender dashboard view","description":"Create the sender dashboard view matching mocks/templates/sender/dashboard.html.\n\n## Features\n- Stats overview (this month, pending, accepted, refused/expired)\n- Recent deliveries grid with delivery cards\n- Quick actions section\n- New delivery button\n\n## Requirements\n- Match mock design exactly\n- Use semantic CSS classes per AGENTS.md\n- Responsive grid layout\n- Empty state when no deliveries\n- i18n support\n\n## Components\n- Stats cards\n- Delivery card partial (with status badges)\n- Action buttons\n\n## Acceptance\n- Dashboard matches mock\n- Data is loaded from API\n- Responsive on mobile\n- Tests verify rendering\n\nRefs: mocks/templates/sender/dashboard.html, mocks/templates/partials/delivery_card.html","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:39:54.934714+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:39:54.934714+04:00","labels":["component:sender","phase:7-frontend","priority:high"],"dependencies":[{"issue_id":"qerds-bf1","depends_on_id":"qerds-3uw","type":"blocks","created_at":"2026-01-18T11:39:54.93648+04:00","created_by":"Vincent"},{"issue_id":"qerds-bf1","depends_on_id":"qerds-rt5","type":"blocks","created_at":"2026-01-18T11:39:54.937569+04:00","created_by":"Vincent"},{"issue_id":"qerds-bf1","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:32.948021625Z","created_by":"ubuntu"}]}
{"id":"qerds-bpn","title":"Create Alembic migration setup and initial schema","description":"Set up Alembic for database migrations and create the initial PostgreSQL schema.\n\n## Initial Tables (from specs/implementation/25-data-model.md)\n- deliveries (state machine, acceptance_deadline_at, jurisdiction_profile)\n- parties (natural_person, legal_person, identity fields)\n- sender_proofing (IAL levels, proofing evidence)\n- recipient_consents (consent tracking for CPCE)\n- content_objects (encrypted content, integrity binding)\n- evidence_events (lifecycle events with timestamps)\n- evidence_objects (sealed evidence with qualification labels)\n- policy_snapshots (versioned configuration)\n- admin_users, api_clients, roles, role_bindings (RBAC)\n- audit_log_records (tamper-evident stream)\n- retention_policies, retention_actions\n- audit_packs\n- jobs (PostgreSQL-backed job queue)\n\n## Requirements\n- Use SQLAlchemy 2.x ORM models\n- All tables with proper indexes\n- Foreign key constraints\n- Enum types for states\n- UUID primary keys\n- Created/updated timestamps\n\n## Acceptance\n- `alembic upgrade head` creates all tables\n- Models match the data model spec\n- Tests can use the schema\n\nRefs: specs/implementation/25-data-model.md","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:35:41.632835+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:35:41.632835+04:00","labels":["component:database","phase:1-backend","priority:critical"],"dependencies":[{"issue_id":"qerds-bpn","depends_on_id":"qerds-az5","type":"parent-child","created_at":"2026-01-22T10:10:32.977295435Z","created_by":"ubuntu"}]}
{"id":"qerds-cdg","title":"Set up Domibus AS4 gateway for ETSI interoperability","description":"Configure Domibus as the AS4 Message Service Handler for cross-provider interoperability.\n\n## Requirements (per specs/implementation/65-etsi-interop-profile.md)\n- Deploy Domibus in Docker Compose\n- Configure for QERDS AS4 profile\n- mTLS between qerds-api and Domibus\n- Message routing configuration\n\n## Features\n- Send registered delivery via AS4\n- Receive registered delivery via AS4\n- Evidence exchange\n\n## Configuration\n- AS4 profile per ETSI EN 319 522\n- Endpoint configuration\n- Certificate management\n\n## Acceptance\n- Domibus starts in Docker Compose\n- Basic AS4 connectivity works\n- Tests verify message flow\n\nRefs: specs/implementation/65-etsi-interop-profile.md, REQ-C04","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:41:46.737445+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:41:46.737445+04:00","labels":["compliance:REQ-C04","component:gateway","phase:10-as4","priority:high"],"dependencies":[{"issue_id":"qerds-cdg","depends_on_id":"qerds-z6g","type":"blocks","created_at":"2026-01-18T11:41:46.739619+04:00","created_by":"Vincent"},{"issue_id":"qerds-cdg","depends_on_id":"qerds-9aj","type":"parent-child","created_at":"2026-01-22T10:10:33.00597231Z","created_by":"ubuntu"}]}
{"id":"qerds-cze","title":"Implement AS4 message sending integration","description":"Integrate qerds-api with Domibus for sending deliveries via AS4.\n\n## Features\n- Send delivery to external QERDS provider\n- Package content and metadata per ETSI spec\n- Generate evidence for AS4 transmission\n- Handle AS4 receipts\n\n## Message Format\n- ETSI EN 319 522-4 compliant\n- Include all required metadata\n- Content encryption as needed\n\n## Evidence\n- EVT_AS4_SENT event\n- Store transmission evidence\n\n## Acceptance\n- Messages are sent correctly\n- Evidence is captured\n- Tests verify AS4 compliance\n\nRefs: specs/implementation/65-etsi-interop-profile.md, REQ-C04","status":"tombstone","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:41:48.11721+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:42:01.493816+04:00","labels":["compliance:REQ-C04","component:sending","phase:10-as4","priority:high"],"deleted_at":"2026-01-18T11:42:01.493816+04:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"qerds-d38","title":"Conformity assessment readiness package (REQ-A02)","description":"Ensure the platform can produce the technical and operational artifacts needed for a QERDS/LRE conformity assessment.\n\n## Requirements\n- Define the minimum “conformity assessment package” contents for MVP.\n- Ensure each required artifact has an owner, generation path, and retention story.\n- Integrate audit pack export with the required artifacts (SBOM/release metadata, policy docs snapshots, evidence samples).\n\n## Acceptance\n- A documented checklist exists mapping artifacts to code paths and storage locations.\n- A sample audit pack can be generated that includes MVP-required artifacts.\n\nRefs: specs/implementation/80-audit-and-conformity.md, REQ-A02\n","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T12:38:48.799499+04:00","created_by":"Vincent","updated_at":"2026-01-18T12:38:48.799499+04:00","labels":["compliance:REQ-A02","component:compliance","phase:9-audit","priority:critical"],"dependencies":[{"issue_id":"qerds-d38","depends_on_id":"qerds-ec1","type":"blocks","created_at":"2026-01-18T12:40:12.554847+04:00","created_by":"Vincent"},{"issue_id":"qerds-d38","depends_on_id":"qerds-7ij","type":"blocks","created_at":"2026-01-18T12:40:12.652209+04:00","created_by":"Vincent"},{"issue_id":"qerds-d38","depends_on_id":"qerds-s5z","type":"blocks","created_at":"2026-01-18T12:40:12.753601+04:00","created_by":"Vincent"},{"issue_id":"qerds-d38","depends_on_id":"qerds-y7u","type":"blocks","created_at":"2026-01-18T12:40:12.856191+04:00","created_by":"Vincent"},{"issue_id":"qerds-d38","depends_on_id":"qerds-xmz","type":"blocks","created_at":"2026-01-18T12:40:12.948936+04:00","created_by":"Vincent"},{"issue_id":"qerds-d38","depends_on_id":"qerds-ogl","type":"blocks","created_at":"2026-01-18T12:40:13.037174+04:00","created_by":"Vincent"},{"issue_id":"qerds-d38","depends_on_id":"qerds-izk","type":"blocks","created_at":"2026-01-18T12:40:13.125844+04:00","created_by":"Vincent"},{"issue_id":"qerds-d38","depends_on_id":"qerds-8wh","type":"parent-child","created_at":"2026-01-22T10:10:33.034987588Z","created_by":"ubuntu"}]}
{"id":"qerds-dbc","title":"API Layer","description":"FastAPI application structure and endpoint implementations","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:09:41.483817768Z","created_by":"ubuntu","updated_at":"2026-01-22T10:09:41.483817768Z","labels":["epic","phase:2-api"]}
{"id":"qerds-dco","title":"Create Preuve de Dépôt (Proof of Deposit) PDF template","description":"Create the PDF template for proof of deposit.\n\n## Content (per CPCE/LRE requirements)\n- Provider header with logo\n- Document title: Preuve de Dépôt\n- Delivery reference\n- Sender identity and address\n- Recipient identity and email\n- Subject line\n- Deposit timestamp (from evidence)\n- Content hash/digest\n- Provider seal visualization\n- Timestamp authority info\n- Verification instructions (proof ID + token)\n- QR code for verification URL (optional)\n\n## Generated at EVT_DEPOSITED\n\n## Requirements\n- French language (with i18n structure for English)\n- Legal compliance with CPCE format\n- Include qualification_label (qualified/non-qualified)\n- A4 format\n\n## Acceptance\n- PDF contains all required info\n- Visually professional\n- Verification info is clear\n- Tests verify PDF content\n\nRefs: specs/implementation/30-lifecycle-and-evidence.md, REQ-F07","status":"tombstone","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:40:49.085618+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:41:05.025168+04:00","labels":["compliance:REQ-F07","component:proof-templates","phase:8-pdf","priority:critical"],"deleted_at":"2026-01-18T11:41:05.025168+04:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"qerds-dss","title":"Implement consumer consent management for LRE","description":"Create consumer consent tracking for CPCE compliance.\n\n## Requirements (per REQ-F06)\n- Capture consent before initiating LRE to consumers\n- Store consent evidence (who, when, how, what)\n- Consent verification before notification\n- Consent revocation handling\n\n## Database\n- recipient_consents table with:\n  - recipient_party_id\n  - consent_type (fr_lre_electronic_delivery)\n  - consented_at, consented_by\n  - consent_evidence_object_ref\n\n## API\n- POST /recipient/consent - record consent\n- GET /recipient/consent/status - check consent\n- DELETE /recipient/consent - revoke consent\n\n## Flow\n- Check consent before sending LRE notification\n- Block if no consent and recipient is consumer\n\n## Acceptance\n- Consent is tracked correctly\n- Non-consenting consumers blocked\n- Consent evidence stored\n- Tests verify consent flow\n\nRefs: specs/implementation/20-identities-and-roles.md, REQ-F06","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:43:20.220013+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:43:20.220013+04:00","labels":["compliance:REQ-F06","component:consent","phase:5-identity","priority:high"],"dependencies":[{"issue_id":"qerds-dss","depends_on_id":"qerds-bpn","type":"blocks","created_at":"2026-01-18T11:43:20.22139+04:00","created_by":"Vincent"},{"issue_id":"qerds-dss","depends_on_id":"qerds-jbl","type":"blocks","created_at":"2026-01-18T11:43:20.222497+04:00","created_by":"Vincent"},{"issue_id":"qerds-dss","depends_on_id":"qerds-m5j","type":"parent-child","created_at":"2026-01-22T10:10:33.063348504Z","created_by":"ubuntu"}]}
{"id":"qerds-dvs","title":"Implement admin dashboard view","description":"Create the admin dashboard matching mocks/templates/admin/dashboard.html.\n\n## View Elements\n- Qualification status indicator (qualified/dev mode)\n- Stats grid (today, month, pending, acceptance rate)\n- Recent activity table with events\n- System health sidebar (API, DB, Trust, Timestamp, Storage)\n- Audit actions sidebar\n\n## Audit Actions\n- Export audit pack\n- Access review\n- Config history\n- Key management\n- Incidents\n\n## Requirements\n- Match mock design exactly\n- Real-time status indicators (green dots)\n- Admin-only access\n- i18n support\n\n## Acceptance\n- Dashboard matches mock\n- System health shows correct status\n- Actions link to correct pages\n- Tests verify admin auth\n\nRefs: mocks/templates/admin/dashboard.html","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:40:30.299387+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:40:30.299387+04:00","labels":["component:admin","phase:7-frontend","priority:high"],"dependencies":[{"issue_id":"qerds-dvs","depends_on_id":"qerds-3uw","type":"blocks","created_at":"2026-01-18T11:40:30.300441+04:00","created_by":"Vincent"},{"issue_id":"qerds-dvs","depends_on_id":"qerds-j55","type":"blocks","created_at":"2026-01-18T11:40:30.301274+04:00","created_by":"Vincent"},{"issue_id":"qerds-dvs","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:33.091457098Z","created_by":"ubuntu"}]}
{"id":"qerds-e0i","title":"Implement email notification service","description":"Create the email notification service for delivery notifications.\n\n## Notification Types\n- Initial notification to recipient (with magic link)\n- Reminder notifications (if enabled)\n- Notification failure alerts\n\n## CPCE Compliance (REQ-F02)\n- Notification MUST include:\n  - Provider identity\n  - Delivery reference\n  - Legal nature of delivery\n  - Deadline information\n- Notification MUST NOT include:\n  - Sender identity (REQ-F03)\n  - Content preview\n\n## Implementation\n- SMTP configuration (self-hosted or managed)\n- Mailpit for dev/test\n- Template-based emails (i18n ready)\n- Magic link generation with claim tokens\n- Delivery status tracking (sent, delivered, bounced)\n\n## Evidence\n- EVT_NOTIFICATION_SENT with template version, recipient hash, channel, message ID\n\n## Acceptance\n- Emails are sent correctly\n- Templates comply with CPCE\n- Bounces are detected\n- Tests verify notification content\n\nRefs: specs/implementation/05-architecture.md, REQ-C01, REQ-F02, REQ-F03","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:39:04.70614+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:39:04.70614+04:00","labels":["compliance:REQ-C01","compliance:REQ-F02","compliance:REQ-F03","component:email","phase:6-notifications","priority:critical"],"dependencies":[{"issue_id":"qerds-e0i","depends_on_id":"qerds-7br","type":"blocks","created_at":"2026-01-18T11:39:04.709098+04:00","created_by":"Vincent"},{"issue_id":"qerds-e0i","depends_on_id":"qerds-1id","type":"blocks","created_at":"2026-01-18T11:39:04.710188+04:00","created_by":"Vincent"},{"issue_id":"qerds-e0i","depends_on_id":"qerds-k4x","type":"blocks","created_at":"2026-01-18T11:39:04.711051+04:00","created_by":"Vincent"},{"issue_id":"qerds-e0i","depends_on_id":"qerds-5jg","type":"parent-child","created_at":"2026-01-22T10:10:33.118418301Z","created_by":"ubuntu"}]}
{"id":"qerds-ec1","title":"Implement audit pack export functionality","description":"Create the audit pack export feature for conformity assessment.\n\n## Audit Pack Contents (per REQ-H01)\n- Evidence samples (configurable range)\n- System configuration snapshots\n- Cryptographic parameters (algorithms, key IDs)\n- Policy documents\n- Release artifacts and SBOM\n\n## API\n- POST /admin/audit-packs - generate pack for date range\n- Returns sealed pack reference stored in object store\n\n## Requirements\n- Pack is sealed and timestamped\n- Format suitable for auditors\n- Include verification instructions\n- Support for evidence sampling\n- Track pack generation in audit log\n\n## Acceptance\n- Audit packs are generated correctly\n- Contents are complete\n- Seal is valid\n- Tests verify pack contents\n\nRefs: specs/implementation/80-audit-and-conformity.md, REQ-H01","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:41:30.723636+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:41:30.723636+04:00","labels":["compliance:REQ-H01","component:export","phase:9-audit","priority:high"],"dependencies":[{"issue_id":"qerds-ec1","depends_on_id":"qerds-j55","type":"blocks","created_at":"2026-01-18T11:41:30.725576+04:00","created_by":"Vincent"},{"issue_id":"qerds-ec1","depends_on_id":"qerds-24b","type":"blocks","created_at":"2026-01-18T11:41:30.726578+04:00","created_by":"Vincent"},{"issue_id":"qerds-ec1","depends_on_id":"qerds-8wh","type":"parent-child","created_at":"2026-01-22T10:10:33.146457306Z","created_by":"ubuntu"}]}
{"id":"qerds-esn","title":"Initialize Python backend project structure","description":"Create the foundational Python project structure for qerds-api, qerds-worker, and qerds-trust services.\n\n## Requirements\n- Create src/ directory with proper Python package structure\n- Set up pyproject.toml with all dependencies (FastAPI, SQLAlchemy, Alembic, Authlib, cryptography, WeasyPrint, etc.)\n- Use latest stable versions of all dependencies\n- Configure pytest, ruff, mypy\n- Add .gitignore for Python\n- Create requirements.txt and requirements-dev.txt\n\n## Acceptance\n- `pip install -e .` works\n- Linting and type checking pass\n- Basic test setup works\n\nRefs: specs/implementation/06-tech-stack.md","status":"closed","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:35:38.72877+04:00","created_by":"Vincent","updated_at":"2026-01-22T11:36:01.560870871Z","closed_at":"2026-01-22T11:36:01.560870871Z","close_reason":"Closed","labels":["component:backend","phase:0-setup","priority:critical"],"dependencies":[{"issue_id":"qerds-esn","depends_on_id":"qerds-znp","type":"parent-child","created_at":"2026-01-22T10:10:33.174096264Z","created_by":"ubuntu"}]}
{"id":"qerds-fd0","title":"Delivery Lifecycle","description":"State machine, evidence generation, and delivery flow management","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:09:42.461849919Z","created_by":"ubuntu","updated_at":"2026-01-22T10:09:42.461849919Z","labels":["epic","phase:3-lifecycle"]}
{"id":"qerds-fdt","title":"Backend enforcement for all controls (REQ-I02)","description":"Ensure all enforceable compliance/security controls are implemented on the backend (frontend treated as untrusted).\n\n## Requirements\n- Identify controls that must be server-enforced (authn/authz, redaction, acceptance window, consent checks, retention).\n- Add backend-side enforcement points (middleware/services) and ensure no UI-only enforcement exists.\n- Add regression tests that attempt to bypass UI and call APIs directly.\n\n## Acceptance\n- Security/regression tests demonstrate backend enforcement for critical controls.\n- Any UI-only enforcement is removed or mirrored on the backend.\n\nRefs: specs/implementation/05-architecture.md, specs/implementation/90-security-and-ops-controls.md, REQ-I02\n","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T12:39:50.602961+04:00","created_by":"Vincent","updated_at":"2026-01-18T12:39:50.602961+04:00","labels":["compliance:REQ-I02","component:security","phase:11-testing","priority:critical"],"dependencies":[{"issue_id":"qerds-fdt","depends_on_id":"qerds-32e","type":"blocks","created_at":"2026-01-18T12:40:47.531657+04:00","created_by":"Vincent"},{"issue_id":"qerds-fdt","depends_on_id":"qerds-4b9","type":"blocks","created_at":"2026-01-18T12:40:47.624149+04:00","created_by":"Vincent"},{"issue_id":"qerds-fdt","depends_on_id":"qerds-1id","type":"blocks","created_at":"2026-01-18T12:40:47.718742+04:00","created_by":"Vincent"},{"issue_id":"qerds-fdt","depends_on_id":"qerds-rt5","type":"blocks","created_at":"2026-01-18T12:40:47.810353+04:00","created_by":"Vincent"},{"issue_id":"qerds-fdt","depends_on_id":"qerds-jbl","type":"blocks","created_at":"2026-01-18T12:40:47.898118+04:00","created_by":"Vincent"},{"issue_id":"qerds-fdt","depends_on_id":"qerds-dss","type":"blocks","created_at":"2026-01-18T12:40:47.988084+04:00","created_by":"Vincent"},{"issue_id":"qerds-fdt","depends_on_id":"qerds-7ij","type":"blocks","created_at":"2026-01-18T12:40:48.077219+04:00","created_by":"Vincent"},{"issue_id":"qerds-fdt","depends_on_id":"qerds-6yi","type":"blocks","created_at":"2026-01-18T12:40:48.167076+04:00","created_by":"Vincent"},{"issue_id":"qerds-fdt","depends_on_id":"qerds-1dg","type":"parent-child","created_at":"2026-01-22T10:10:33.201764697Z","created_by":"ubuntu"}]}
{"id":"qerds-grm","title":"Implement recipient pickup portal (pre-acceptance view)","description":"Create the recipient pickup view matching mocks/templates/recipient/pickup.html.\n\n## View Elements\n- Hero section with envelope icon\n- Delivery info card with:\n  - REDACTED sender identity (per REQ-F03)\n  - Subject\n  - Deposit date\n  - Expiry deadline (with warning)\n  - Attachment info\n\n## Actions (post-authentication)\n- Accept and download button\n- Refuse button\n\n## Pre-Authentication State\n- Show authentication required warning\n- FranceConnect+ login button\n\n## Requirements\n- Match mock design exactly\n- Sender identity MUST be hidden (critical CPCE compliance)\n- CPCE explanation text\n- i18n support\n\n## Acceptance\n- View matches mock\n- Sender identity is hidden\n- Auth required before actions\n- Tests verify redaction\n\nRefs: mocks/templates/recipient/pickup.html, REQ-F03","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:40:09.852147+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:40:09.852147+04:00","labels":["compliance:REQ-F03","component:recipient","phase:7-frontend","priority:critical"],"dependencies":[{"issue_id":"qerds-grm","depends_on_id":"qerds-3uw","type":"blocks","created_at":"2026-01-18T11:40:09.853764+04:00","created_by":"Vincent"},{"issue_id":"qerds-grm","depends_on_id":"qerds-x0y","type":"blocks","created_at":"2026-01-18T11:40:09.854613+04:00","created_by":"Vincent"},{"issue_id":"qerds-grm","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:33.229013847Z","created_by":"ubuntu"}]}
{"id":"qerds-h3s","title":"Implement object store integration (MinIO/S3)","description":"Create the object store integration for content and evidence storage.\n\n## Requirements\n- S3-compatible API (MinIO for dev)\n- Store content objects\n- Store evidence bundles\n- Store audit packs\n- Content-addressed storage where applicable\n\n## Buckets\n- qerds-content: encrypted content blobs\n- qerds-evidence: sealed evidence bundles\n- qerds-audit: audit packs and exports\n\n## Features\n- Upload with integrity verification\n- Download with access control\n- Presigned URLs for direct access (if needed)\n- Retention policy enforcement\n\n## Acceptance\n- Object store integration works\n- Content is stored/retrieved correctly\n- Access control enforced\n- Tests verify all operations\n\nRefs: specs/implementation/05-architecture.md, specs/implementation/70-storage-and-retention.md","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:43:23.588501+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:43:23.588501+04:00","labels":["component:storage","phase:1-backend","priority:critical"],"dependencies":[{"issue_id":"qerds-h3s","depends_on_id":"qerds-z6g","type":"blocks","created_at":"2026-01-18T11:43:23.589793+04:00","created_by":"Vincent"},{"issue_id":"qerds-h3s","depends_on_id":"qerds-k4x","type":"blocks","created_at":"2026-01-18T11:43:23.590783+04:00","created_by":"Vincent"},{"issue_id":"qerds-h3s","depends_on_id":"qerds-az5","type":"parent-child","created_at":"2026-01-22T10:10:33.257684321Z","created_by":"ubuntu"}]}
{"id":"qerds-izk","title":"Implement requirement→code/tests traceability (REQ-A04)","description":"Extend the existing requirements traceability so each legal requirement maps to concrete implementation modules and verification artifacts.\n\n## Requirements\n- Keep `specs/traceability.md` as the single traceability source.\n- For each REQ-*, add links to:\n  - Implementation modules (package/module names)\n  - Tests (test modules)\n  - Operational artifacts (audit pack items) when applicable\n- Ensure README status tables reference this mapping.\n\n## Acceptance\n- For each REQ-* in `specs/requirements.md`, there is a traceability entry that includes code + tests once implemented.\n- CI (or a local check) fails if a new REQ-* is added without a traceability entry.\n\nRefs: specs/traceability.md, REQ-A04\n","status":"closed","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T12:39:04.252267+04:00","created_by":"Vincent","updated_at":"2026-01-22T11:36:01.645090521Z","closed_at":"2026-01-22T11:36:01.645090521Z","close_reason":"Closed","labels":["compliance:REQ-A04","component:docs","phase:9-audit","priority:critical"],"dependencies":[{"issue_id":"qerds-izk","depends_on_id":"qerds-8wh","type":"parent-child","created_at":"2026-01-22T10:10:33.285514065Z","created_by":"ubuntu"}]}
{"id":"qerds-j55","title":"Implement Admin API endpoints","description":"Create the admin-facing API endpoints per specs/implementation/35-apis.md.\n\n## Endpoints\n- POST /admin/audit-packs - generate audit pack for date range\n- GET /admin/deliveries/{id}/timeline - dispute reconstruction\n- POST /admin/config/snapshots - create config snapshot\n- GET /admin/access-reviews/export - export RBAC bindings\n- POST /admin/incidents - create incident record\n- GET /admin/incidents/{id}/export - export incident timeline\n- GET /admin/stats - system statistics\n\n## Requirements\n- Admin authentication required\n- Least privilege enforcement\n- Dual-control for sensitive operations\n- All admin actions logged to security log\n\n## Acceptance\n- All endpoints work correctly\n- Admin auth is enforced\n- Actions are logged\n- Tests cover admin operations\n\nRefs: specs/implementation/35-apis.md, REQ-D02, REQ-H01, REQ-H04, REQ-H05, REQ-H06","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:38:14.476373+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:38:14.476373+04:00","labels":["compliance:REQ-D02","compliance:REQ-H01","compliance:REQ-H04","compliance:REQ-H05","compliance:REQ-H06","component:admin","phase:2-api","priority:high"],"dependencies":[{"issue_id":"qerds-j55","depends_on_id":"qerds-80v","type":"blocks","created_at":"2026-01-18T11:38:14.477516+04:00","created_by":"Vincent"},{"issue_id":"qerds-j55","depends_on_id":"qerds-4b9","type":"blocks","created_at":"2026-01-18T11:38:14.478294+04:00","created_by":"Vincent"},{"issue_id":"qerds-j55","depends_on_id":"qerds-s5z","type":"blocks","created_at":"2026-01-18T11:38:14.47889+04:00","created_by":"Vincent"},{"issue_id":"qerds-j55","depends_on_id":"qerds-32e","type":"blocks","created_at":"2026-01-18T12:36:52.658552+04:00","created_by":"Vincent"},{"issue_id":"qerds-j55","depends_on_id":"qerds-k4x","type":"blocks","created_at":"2026-01-18T12:36:52.742822+04:00","created_by":"Vincent"},{"issue_id":"qerds-j55","depends_on_id":"qerds-77e","type":"blocks","created_at":"2026-01-18T12:36:52.827941+04:00","created_by":"Vincent"},{"issue_id":"qerds-j55","depends_on_id":"qerds-dbc","type":"parent-child","created_at":"2026-01-22T10:10:33.313352185Z","created_by":"ubuntu"}]}
{"id":"qerds-jbl","title":"Implement Recipient API endpoints","description":"Create the recipient-facing API endpoints per specs/implementation/35-apis.md.\n\n## Endpoints\n- GET /recipient/inbox - list pending deliveries (redacted pre-acceptance)\n- GET /recipient/deliveries/{id} - get delivery info (redacted if pre-acceptance)\n- POST /recipient/deliveries/{id}/accept - accept delivery\n- POST /recipient/deliveries/{id}/refuse - refuse delivery\n- GET /recipient/deliveries/{id}/content - download content (post-acceptance only)\n- GET /recipient/deliveries/{id}/proofs/{type} - download proof PDF\n\n## CPCE Compliance (Critical)\n- PRE-ACCEPTANCE: sender identity MUST be hidden (REQ-F03)\n- POST-ACCEPTANCE: sender identity revealed\n- Acceptance window enforcement (15 days, REQ-F04)\n- Consumer consent verification (REQ-F06)\n\n## Requirements\n- Authentication required via FranceConnect+ (IAL_SUBSTANTIAL min for LRE)\n- Redaction profile enforcement\n- State machine enforcement\n- Evidence events on accept/refuse\n- Content access gating (REQ-E02)\n\n## Acceptance\n- All endpoints work correctly\n- Sender identity hidden pre-acceptance\n- Tests verify CPCE compliance\n\nRefs: specs/implementation/35-apis.md, REQ-F03, REQ-F04, REQ-E02","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:38:13.063983+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:38:13.063983+04:00","labels":["compliance:REQ-E02","compliance:REQ-F03","compliance:REQ-F04","compliance:REQ-F06","component:recipient","phase:2-api","priority:critical"],"dependencies":[{"issue_id":"qerds-jbl","depends_on_id":"qerds-80v","type":"blocks","created_at":"2026-01-18T11:38:13.065183+04:00","created_by":"Vincent"},{"issue_id":"qerds-jbl","depends_on_id":"qerds-32e","type":"blocks","created_at":"2026-01-18T11:38:13.066027+04:00","created_by":"Vincent"},{"issue_id":"qerds-jbl","depends_on_id":"qerds-1id","type":"blocks","created_at":"2026-01-18T11:38:13.06681+04:00","created_by":"Vincent"},{"issue_id":"qerds-jbl","depends_on_id":"qerds-juv","type":"blocks","created_at":"2026-01-18T12:36:52.916041+04:00","created_by":"Vincent"},{"issue_id":"qerds-jbl","depends_on_id":"qerds-dbc","type":"parent-child","created_at":"2026-01-22T10:10:33.340418223Z","created_by":"ubuntu"}]}
{"id":"qerds-jp9","title":"Create Preuve de Négligence (Proof of Non-Claim) PDF template","description":"Create the PDF template for proof of non-claim/expiry.\n\n## Content\n- Provider header with logo\n- Document title: Preuve de Négligence\n- Delivery reference\n- Sender identity\n- Recipient identity (revealed after expiry)\n- Subject line\n- Deposit timestamp\n- Notification timestamp\n- Expiry timestamp (15 days after notification)\n- Provider seal visualization\n- Verification instructions\n\n## Generated at EVT_EXPIRED\n\n## Requirements\n- French language (with i18n)\n- Clear indication that 15-day window elapsed\n- A4 format\n\n## Acceptance\n- PDF contains all required info\n- Timeline is clear\n- Tests verify content\n\nRefs: specs/implementation/30-lifecycle-and-evidence.md, REQ-F07, REQ-F04","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:41:11.876971+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:41:11.876971+04:00","labels":["compliance:REQ-F07","component:proof-templates","phase:8-pdf","priority:high"],"dependencies":[{"issue_id":"qerds-jp9","depends_on_id":"qerds-4q6","type":"blocks","created_at":"2026-01-18T11:41:11.878198+04:00","created_by":"Vincent"},{"issue_id":"qerds-jp9","depends_on_id":"qerds-24b","type":"blocks","created_at":"2026-01-18T11:41:11.879107+04:00","created_by":"Vincent"},{"issue_id":"qerds-jp9","depends_on_id":"qerds-7of","type":"parent-child","created_at":"2026-01-22T10:10:33.370169294Z","created_by":"ubuntu"}]}
{"id":"qerds-juv","title":"Implement FranceConnect+ OIDC integration","description":"Integrate FranceConnect+ for identity verification using Authlib.\n\n## Requirements\n- OIDC client configuration for FranceConnect+\n- ACR claim mapping to IAL levels:\n  - eidas2 -\u003e IAL_SUBSTANTIAL\n  - eidas3 -\u003e IAL_HIGH\n- Identity claims extraction (given_name, family_name, email, etc.)\n- Session binding after successful auth\n- Redirect flow handling\n\n## Flows\n- Sender identity verification\n- Recipient authentication for pickup (CPCE requires IAL_SUBSTANTIAL)\n- Admin authentication\n\n## Implementation\n- Use Authlib for OIDC client\n- Store identity proofing evidence\n- Create EVT_IDENTITY_VERIFIED events when applicable\n\n## Acceptance\n- OIDC flow works correctly\n- IAL levels are correctly determined\n- Identity claims are captured\n- Tests cover auth flows (with mocked FC+)\n\nRefs: specs/implementation/20-identities-and-roles.md, REQ-B05","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:38:37.596568+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:38:37.596568+04:00","labels":["compliance:REQ-B05","component:auth","phase:5-identity","priority:critical"],"dependencies":[{"issue_id":"qerds-juv","depends_on_id":"qerds-32e","type":"blocks","created_at":"2026-01-18T11:38:37.597715+04:00","created_by":"Vincent"},{"issue_id":"qerds-juv","depends_on_id":"qerds-k4x","type":"blocks","created_at":"2026-01-18T11:38:37.598565+04:00","created_by":"Vincent"},{"issue_id":"qerds-juv","depends_on_id":"qerds-m5j","type":"parent-child","created_at":"2026-01-22T10:10:33.398249696Z","created_by":"ubuntu"}]}
{"id":"qerds-k4x","title":"Implement configuration management system","description":"Create a centralized configuration management system for all services.\n\n## Requirements\n- Environment-based configuration (dev, staging, production)\n- Support for claim_state (qualified/non_qualified) per REQ-G01, REQ-G02\n- Database connection settings\n- S3/MinIO settings\n- SMTP settings\n- FranceConnect+ OIDC settings\n- Trust service settings\n- Crypto algorithm configuration (versioned)\n- Policy snapshot creation on config changes\n\n## Implementation\n- Pydantic Settings for validation\n- Support for .env files in development\n- Secrets management (environment variables)\n- Config versioning for audit (REQ-H05)\n\n## Acceptance\n- Configuration loads correctly in all environments\n- Invalid config fails fast with clear errors\n- Config changes create policy snapshots\n\nRefs: specs/implementation/05-architecture.md, REQ-G01, REQ-G02, REQ-H05","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:36:03.695369+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:36:03.695369+04:00","labels":["compliance:REQ-G01","compliance:REQ-G02","compliance:REQ-H05","component:config","phase:1-backend","priority:critical"],"dependencies":[{"issue_id":"qerds-k4x","depends_on_id":"qerds-esn","type":"blocks","created_at":"2026-01-18T11:36:03.69728+04:00","created_by":"Vincent"},{"issue_id":"qerds-k4x","depends_on_id":"qerds-az5","type":"parent-child","created_at":"2026-01-22T10:10:33.427028783Z","created_by":"ubuntu"}]}
{"id":"qerds-lrp","title":"Implement AS4 message sending integration","description":"Integrate qerds-api with Domibus for sending deliveries via AS4.\n\n## Features\n- Send delivery to external QERDS provider\n- Package content and metadata per ETSI spec\n- Generate evidence for AS4 transmission\n- Handle AS4 receipts\n\n## Message Format\n- ETSI EN 319 522-4 compliant\n- Include all required metadata\n- Content encryption as needed\n\n## Evidence\n- EVT_AS4_SENT event\n- Store transmission evidence\n\n## Acceptance\n- Messages are sent correctly\n- Evidence is captured\n- Tests verify AS4 compliance\n\nRefs: specs/implementation/65-etsi-interop-profile.md, REQ-C04","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:42:03.045365+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:42:03.045365+04:00","labels":["compliance:REQ-C04","component:sending","phase:10-as4","priority:high"],"dependencies":[{"issue_id":"qerds-lrp","depends_on_id":"qerds-cdg","type":"blocks","created_at":"2026-01-18T11:42:03.047289+04:00","created_by":"Vincent"},{"issue_id":"qerds-lrp","depends_on_id":"qerds-rt5","type":"blocks","created_at":"2026-01-18T11:42:03.048238+04:00","created_by":"Vincent"},{"issue_id":"qerds-lrp","depends_on_id":"qerds-9aj","type":"parent-child","created_at":"2026-01-22T10:10:33.454964886Z","created_by":"ubuntu"}]}
{"id":"qerds-m5j","title":"Identity and Authentication","description":"FranceConnect+ integration, consent management, and authentication flows","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:09:51.328594284Z","created_by":"ubuntu","updated_at":"2026-01-22T10:09:51.328594284Z","labels":["epic","phase:5-identity"]}
{"id":"qerds-ogl","title":"Create CPS/policies skeleton for audits (REQ-A03)","description":"Create the documentation skeleton and repository locations for the provider policies and CPS artifacts required for audits.\n\n## Requirements\n- Define where security policy, incident policy, continuity/DR policy, key management policy, evidence management policy, and privacy policy live in-repo.\n- Ensure the content references implementation modules (don’t duplicate schemas/behavior).\n- Define which parts are intended to be published to relying parties.\n\n## Acceptance\n- Policy/CPS skeleton exists with clear placeholders and links to code/specs.\n- Documented process for keeping policies in sync with releases.\n\nRefs: specs/implementation/80-audit-and-conformity.md, specs/implementation/05-architecture.md, REQ-A03\n","status":"closed","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T12:38:55.630912+04:00","created_by":"Vincent","updated_at":"2026-01-22T11:36:01.618412669Z","closed_at":"2026-01-22T11:36:01.618412669Z","close_reason":"Closed","labels":["compliance:REQ-A03","component:docs","phase:9-audit","priority:high"],"dependencies":[{"issue_id":"qerds-ogl","depends_on_id":"qerds-8wh","type":"parent-child","created_at":"2026-01-22T10:10:33.482207734Z","created_by":"ubuntu"}]}
{"id":"qerds-pwn","title":"Set up testing infrastructure (pytest, fixtures, Docker)","description":"Create the testing infrastructure for the project.\n\n## Requirements\n- pytest configuration\n- pytest-asyncio for async tests\n- pytest-cov for coverage\n- Test fixtures for database, object store\n- Docker Compose for test environment\n- CI-compatible test runner\n\n## Fixtures\n- Database session (with rollback)\n- Test user (sender, recipient, admin)\n- Mock FranceConnect+ responses\n- Test delivery factory\n- Object store mock\n\n## Commands\n- `make test` - run all tests\n- `make test-cov` - run with coverage report\n- Tests must run in Docker for reproducibility\n\n## Acceptance\n- pytest runs successfully\n- Fixtures work correctly\n- Coverage report generates\n- Tests isolated (no cross-test pollution)\n\nRefs: AGENTS.md (test coverage requirements)","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:42:19.981818+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:42:19.981818+04:00","labels":["component:infrastructure","phase:11-testing","priority:critical"],"dependencies":[{"issue_id":"qerds-pwn","depends_on_id":"qerds-esn","type":"blocks","created_at":"2026-01-18T11:42:19.983901+04:00","created_by":"Vincent"},{"issue_id":"qerds-pwn","depends_on_id":"qerds-z6g","type":"blocks","created_at":"2026-01-18T11:42:19.984871+04:00","created_by":"Vincent"},{"issue_id":"qerds-pwn","depends_on_id":"qerds-1dg","type":"parent-child","created_at":"2026-01-22T10:10:33.532724191Z","created_by":"ubuntu"}]}
{"id":"qerds-qqj","title":"Create recipient refused view and inbox","description":"Create the recipient refused confirmation view and inbox list.\n\n## Refused View\n- Similar to accepted view but with refusal confirmation\n- Show sender identity (now revealed)\n- Proof of refusal download\n\n## Inbox View\n- List of pending deliveries\n- Status indicators\n- Filter options\n\n## Requirements\n- Match overall design language\n- Responsive design\n- i18n support\n\n## Acceptance\n- Views match design\n- Sender revealed after refusal\n- Tests verify rendering\n\nRefs: mocks/templates/recipient/ (base on accepted.html style)","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:43:47.980708+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:43:47.980708+04:00","labels":["component:recipient","phase:7-frontend","priority:medium"],"dependencies":[{"issue_id":"qerds-qqj","depends_on_id":"qerds-1z7","type":"blocks","created_at":"2026-01-18T11:43:47.982402+04:00","created_by":"Vincent"},{"issue_id":"qerds-qqj","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:33.56472429Z","created_by":"ubuntu"}]}
{"id":"qerds-rhd","title":"Implement recipient pickup flow with authentication wall","description":"Create the recipient pickup flow with mandatory authentication.\n\n## Flow (per specs/implementation/05-architecture.md)\n1. Recipient receives email with magic link (claim token)\n2. Link redirects to pickup portal (no content access yet!)\n3. Recipient MUST authenticate via FranceConnect+\n4. After auth (IAL_SUBSTANTIAL+), recipient can:\n   - View delivery info (sender still hidden)\n   - Accept or Refuse\n5. After accept/refuse, sender identity revealed\n6. After accept, content download enabled\n\n## Requirements\n- Magic link is NOT direct content access\n- Authentication required before any action\n- IAL level enforcement for LRE mode\n- Consumer consent check (REQ-F06)\n- Evidence events on all actions\n\n## Acceptance\n- Flow works end-to-end\n- Unauthenticated users cannot access content\n- Sender identity hidden until accept/refuse\n- Tests cover complete flow\n\nRefs: specs/implementation/20-identities-and-roles.md, REQ-E02, REQ-F03","status":"tombstone","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:38:39.103977+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:38:47.160439+04:00","labels":["compliance:REQ-E02","component:recipient","phase:5-identity","priority:critical"],"deleted_at":"2026-01-18T11:38:47.160439+04:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"qerds-rpc","title":"Security management controls + evidence (REQ-D01)","description":"Define and implement the minimum security-management controls the platform must enforce/provide evidence for (ISMS-aligned, but MVP-scoped).\n\n## Requirements\n- Define security control objectives the platform enforces (authn/authz, logging, retention, change tracking).\n- Define operator obligations the platform must support with evidence (audit packs, logs, exports).\n- Ensure admin roles and workflows support separation of duties.\n\n## Acceptance\n- A documented security control set exists with links to the implementing modules.\n- Evidence for key security controls is exportable (logs/exports).\n\nRefs: specs/implementation/90-security-and-ops-controls.md, REQ-D01\n","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T12:39:17.810796+04:00","created_by":"Vincent","updated_at":"2026-01-18T12:39:17.810796+04:00","labels":["compliance:REQ-D01","component:security","phase:9-audit","priority:critical"],"dependencies":[{"issue_id":"qerds-rpc","depends_on_id":"qerds-4b9","type":"blocks","created_at":"2026-01-18T12:40:21.449167+04:00","created_by":"Vincent"},{"issue_id":"qerds-rpc","depends_on_id":"qerds-s5z","type":"blocks","created_at":"2026-01-18T12:40:21.536996+04:00","created_by":"Vincent"},{"issue_id":"qerds-rpc","depends_on_id":"qerds-77e","type":"blocks","created_at":"2026-01-18T12:40:21.623519+04:00","created_by":"Vincent"},{"issue_id":"qerds-rpc","depends_on_id":"qerds-k4x","type":"blocks","created_at":"2026-01-18T12:40:21.712262+04:00","created_by":"Vincent"},{"issue_id":"qerds-rpc","depends_on_id":"qerds-j55","type":"blocks","created_at":"2026-01-18T12:40:21.798935+04:00","created_by":"Vincent"},{"issue_id":"qerds-rpc","depends_on_id":"qerds-8wh","type":"parent-child","created_at":"2026-01-22T10:10:33.594218782Z","created_by":"ubuntu"}]}
{"id":"qerds-rt5","title":"Implement Sender API endpoints","description":"Create the sender-facing API endpoints per specs/implementation/35-apis.md.\n\n## Endpoints\n- POST /sender/deliveries - create draft delivery\n- POST /sender/deliveries/{id}/content - upload content object\n- POST /sender/deliveries/{id}/deposit - transition to deposited\n- GET /sender/deliveries - list sender's deliveries\n- GET /sender/deliveries/{id} - get delivery details\n- GET /sender/deliveries/{id}/proofs - list available proofs\n- GET /sender/deliveries/{id}/proofs/{type} - download proof PDF\n\n## Requirements\n- Authentication required (sender_user role)\n- Input validation (Pydantic schemas)\n- Content upload to object store (S3/MinIO)\n- Content integrity binding (SHA-256)\n- State machine enforcement\n- Evidence event generation on deposit\n- Sender identity verification tracking (IAL level)\n\n## Acceptance\n- All endpoints work correctly\n- Authentication is enforced\n- State machine prevents invalid operations\n- Tests cover all endpoints\n\nRefs: specs/implementation/35-apis.md, REQ-B01, REQ-B02, REQ-B05","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:38:11.922065+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:38:11.922065+04:00","labels":["compliance:REQ-B01","compliance:REQ-B02","compliance:REQ-B05","component:sender","phase:2-api","priority:critical"],"dependencies":[{"issue_id":"qerds-rt5","depends_on_id":"qerds-80v","type":"blocks","created_at":"2026-01-18T11:38:11.924021+04:00","created_by":"Vincent"},{"issue_id":"qerds-rt5","depends_on_id":"qerds-32e","type":"blocks","created_at":"2026-01-18T11:38:11.924857+04:00","created_by":"Vincent"},{"issue_id":"qerds-rt5","depends_on_id":"qerds-1id","type":"blocks","created_at":"2026-01-18T11:38:11.925467+04:00","created_by":"Vincent"},{"issue_id":"qerds-rt5","depends_on_id":"qerds-h3s","type":"blocks","created_at":"2026-01-18T12:36:53.003826+04:00","created_by":"Vincent"},{"issue_id":"qerds-rt5","depends_on_id":"qerds-juv","type":"blocks","created_at":"2026-01-18T12:36:53.091991+04:00","created_by":"Vincent"},{"issue_id":"qerds-rt5","depends_on_id":"qerds-dbc","type":"parent-child","created_at":"2026-01-22T10:10:33.621357777Z","created_by":"ubuntu"}]}
{"id":"qerds-s0k","title":"Write unit tests for delivery lifecycle state machine","description":"Create comprehensive unit tests for the state machine.\n\n## Test Coverage\n- All valid state transitions\n- Invalid transition rejection\n- 15-day window enforcement\n- Evidence event generation on transition\n- Pre-acceptance redaction enforcement\n- Concurrent transition handling\n\n## Requirements\n- 95%+ coverage for state machine code\n- Edge cases covered\n- Tests for all states and transitions\n\n## Acceptance\n- All tests pass\n- Coverage requirement met\n- Edge cases verified\n\nRefs: specs/implementation/30-lifecycle-and-evidence.md","status":"tombstone","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:42:21.524632+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:42:42.156411+04:00","labels":["component:unit-tests","phase:11-testing","priority:critical"],"deleted_at":"2026-01-18T11:42:42.156411+04:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"qerds-s5z","title":"Implement tamper-evident audit logging infrastructure","description":"Create the tamper-evident audit logging system per REQ-C05, REQ-D08, REQ-H03.\n\n## Log Streams Required\n- Evidence log: evidence objects and verification bundles\n- Security log: auth/authz events, admin actions, key operations\n- Operations log: deployments, config changes, backups\n\n## Tamper-Evidence Features\n- Hash-chain construction (prev_record_hash)\n- Periodic sealed/timestamped checkpoints\n- Verification tooling for integrity checks\n- Detection of deletion/reordering\n\n## Database Tables\n- audit_log_records with stream, seq_no, record_hash, prev_record_hash\n\n## Requirements\n- Append-only structure\n- Support for redaction in exports\n- RBAC for log access\n\n## Acceptance\n- Logs are tamper-evident\n- Verification detects tampering\n- Tests cover integrity scenarios\n\nRefs: specs/implementation/50-audit-logging-and-immutability.md, REQ-C05, REQ-D08, REQ-H03","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:36:05.494657+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:36:05.494657+04:00","labels":["compliance:REQ-C05","compliance:REQ-D08","compliance:REQ-H03","component:audit","phase:1-backend","priority:critical"],"dependencies":[{"issue_id":"qerds-s5z","depends_on_id":"qerds-bpn","type":"blocks","created_at":"2026-01-18T11:36:05.495685+04:00","created_by":"Vincent"},{"issue_id":"qerds-s5z","depends_on_id":"qerds-az5","type":"parent-child","created_at":"2026-01-22T10:10:33.649042621Z","created_by":"ubuntu"}]}
{"id":"qerds-s8x","title":"Network filtering / default-deny deployment posture (REQ-D07)","description":"Define and implement default-deny network filtering and service exposure boundaries for dev and production-like deployments.\n\n## Requirements\n- Document intended network topology and exposed ports.\n- Ensure `docker compose` exposes only what’s required.\n- Provide an operator checklist for firewalling/reverse proxy hardening.\n\n## Acceptance\n- Compose and docs demonstrate a default-deny posture (only required ports exposed).\n- A quick validation script/checklist exists for production deployments.\n\nRefs: specs/implementation/90-security-and-ops-controls.md, specs/implementation/05-architecture.md, REQ-D07\n","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T12:39:24.306005+04:00","created_by":"Vincent","updated_at":"2026-01-18T12:39:24.306005+04:00","labels":["compliance:REQ-D07","component:devops","phase:0-setup","priority:high"],"dependencies":[{"issue_id":"qerds-s8x","depends_on_id":"qerds-z6g","type":"blocks","created_at":"2026-01-18T12:40:24.911728+04:00","created_by":"Vincent"},{"issue_id":"qerds-s8x","depends_on_id":"qerds-znp","type":"parent-child","created_at":"2026-01-22T10:10:33.676769813Z","created_by":"ubuntu"}]}
{"id":"qerds-twr","title":"Create sender history and delivery detail views","description":"Create the sender history page and delivery detail view.\n\n## History View\n- Filterable/searchable list of all deliveries\n- Status filters (all, pending, completed, expired)\n- Date range filter\n- Pagination\n\n## Detail View\n- Full delivery information\n- Timeline of events\n- Available proofs with download links\n- Resend notification action (if applicable)\n\n## Requirements\n- Match overall design language\n- Responsive design\n- i18n support\n\n## Acceptance\n- Views match design\n- Filtering works\n- Downloads work\n- Tests verify rendering\n\nRefs: mocks/ (no specific mock, but consistent with dashboard style)","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:43:46.586106+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:43:46.586106+04:00","labels":["component:sender","phase:7-frontend","priority:medium"],"dependencies":[{"issue_id":"qerds-twr","depends_on_id":"qerds-bf1","type":"blocks","created_at":"2026-01-18T11:43:46.587198+04:00","created_by":"Vincent"},{"issue_id":"qerds-twr","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:33.704009135Z","created_by":"ubuntu"}]}
{"id":"qerds-uxv","title":"Trust Services","description":"Cryptographic signing, timestamping, and evidence sealing","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:09:50.049197209Z","created_by":"ubuntu","updated_at":"2026-01-22T10:09:50.049197209Z","labels":["epic","phase:4-trust"]}
{"id":"qerds-vzi","title":"Implement verification portal view","description":"Create the verification portal matching mocks/templates/verify.html.\n\n## View Elements\n- Verification form (proof ID + token)\n- Result display (valid/invalid)\n- Detail grid showing:\n  - Proof type\n  - Issue date\n  - Delivery reference\n  - Parties (redacted if pre-acceptance)\n  - Signature algorithm\n  - Timestamp authority\n  - Document hash\n- Help section with steps\n\n## Requirements\n- Match mock design exactly\n- Public access (no auth required)\n- Token-gated API calls\n- i18n support\n\n## Acceptance\n- View matches mock\n- Verification works correctly\n- Pre-acceptance redaction enforced\n- Tests verify all states\n\nRefs: mocks/templates/verify.html, REQ-F01","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:40:31.499085+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:40:31.499085+04:00","labels":["compliance:REQ-F01","component:verify","phase:7-frontend","priority:high"],"dependencies":[{"issue_id":"qerds-vzi","depends_on_id":"qerds-3uw","type":"blocks","created_at":"2026-01-18T11:40:31.501033+04:00","created_by":"Vincent"},{"issue_id":"qerds-vzi","depends_on_id":"qerds-6yi","type":"blocks","created_at":"2026-01-18T11:40:31.501904+04:00","created_by":"Vincent"},{"issue_id":"qerds-vzi","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:33.73228899Z","created_by":"ubuntu"}]}
{"id":"qerds-wla","title":"Write unit tests for RBAC/authorization","description":"Create comprehensive tests for authorization.\n\n## Test Coverage\n- Role-based access control\n- Permission checking\n- Separation of duties\n- Admin action logging\n- Unauthorized access rejection\n\n## Requirements\n- All roles tested\n- All protected endpoints tested\n- Dual-control scenarios\n\n## Acceptance\n- All tests pass\n- Authorization properly enforced\n- Tests verify security log entries\n\nRefs: specs/implementation/20-identities-and-roles.md","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:42:48.265493+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:42:48.265493+04:00","labels":["component:unit-tests","phase:11-testing","priority:critical"],"dependencies":[{"issue_id":"qerds-wla","depends_on_id":"qerds-pwn","type":"blocks","created_at":"2026-01-18T11:42:48.266873+04:00","created_by":"Vincent"},{"issue_id":"qerds-wla","depends_on_id":"qerds-4b9","type":"blocks","created_at":"2026-01-18T11:42:48.26791+04:00","created_by":"Vincent"},{"issue_id":"qerds-wla","depends_on_id":"qerds-1dg","type":"parent-child","created_at":"2026-01-22T10:10:33.759939359Z","created_by":"ubuntu"}]}
{"id":"qerds-wp0","title":"Create admin audit and config management views","description":"Create admin views for audit pack generation and config management.\n\n## Audit Pack View\n- Date range selector\n- Evidence sample size\n- Generate button\n- List of generated packs with download\n\n## Config Management View\n- Current config display\n- Config snapshot history\n- Create snapshot button\n\n## Access Review View\n- RBAC bindings export\n- Last activity timestamps\n\n## Requirements\n- Admin-only access\n- Match design language\n- i18n support\n\n## Acceptance\n- Views work correctly\n- Admin auth enforced\n- Tests verify functionality\n\nRefs: mocks/templates/admin/dashboard.html (extend from dashboard)","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:43:50.08143+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:43:50.08143+04:00","labels":["component:admin","phase:7-frontend","priority:medium"],"dependencies":[{"issue_id":"qerds-wp0","depends_on_id":"qerds-dvs","type":"blocks","created_at":"2026-01-18T11:43:50.082483+04:00","created_by":"Vincent"},{"issue_id":"qerds-wp0","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:33.787172129Z","created_by":"ubuntu"}]}
{"id":"qerds-x0y","title":"Implement recipient pickup flow with authentication wall","description":"Create the recipient pickup flow with mandatory authentication.\n\n## Flow (per specs/implementation/05-architecture.md)\n1. Recipient receives email with magic link (claim token)\n2. Link redirects to pickup portal (no content access yet!)\n3. Recipient MUST authenticate via FranceConnect+\n4. After auth (IAL_SUBSTANTIAL+), recipient can:\n   - View delivery info (sender still hidden)\n   - Accept or Refuse\n5. After accept/refuse, sender identity revealed\n6. After accept, content download enabled\n\n## Requirements\n- Magic link is NOT direct content access\n- Authentication required before any action\n- IAL level enforcement for LRE mode\n- Consumer consent check (REQ-F06)\n- Evidence events on all actions\n\n## Acceptance\n- Flow works end-to-end\n- Unauthenticated users cannot access content\n- Sender identity hidden until accept/refuse\n- Tests cover complete flow\n\nRefs: specs/implementation/20-identities-and-roles.md, REQ-E02, REQ-F03","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:38:48.646319+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:38:48.646319+04:00","labels":["compliance:REQ-E02","compliance:REQ-F03","compliance:REQ-F06","component:recipient","phase:5-identity","priority:critical"],"dependencies":[{"issue_id":"qerds-x0y","depends_on_id":"qerds-jbl","type":"blocks","created_at":"2026-01-18T11:38:48.648162+04:00","created_by":"Vincent"},{"issue_id":"qerds-x0y","depends_on_id":"qerds-juv","type":"blocks","created_at":"2026-01-18T11:38:48.649041+04:00","created_by":"Vincent"},{"issue_id":"qerds-x0y","depends_on_id":"qerds-m5j","type":"parent-child","created_at":"2026-01-22T10:10:33.81435244Z","created_by":"ubuntu"}]}
{"id":"qerds-xmz","title":"Backup/restore + DR exercise evidence (REQ-D09/H08)","description":"Implement backup/restore and DR exercise evidence generation suitable for audits.\n\n## Scope Note (Important)\nThis is primarily an **operator/infra** obligation. MVP implementation does **not** include building the operator’s backup infrastructure.\n\nThe software/platform requirement is to:\n- Make it possible to **store** backup/restore/DR exercise artifacts (logs, runbooks, results) in the platform’s audit storage.\n- Make it possible to **export** those artifacts as part of an audit pack.\n\n## Requirements\n- Define backup scope for PostgreSQL, object store (MinIO/S3), and audit logs.\n- Provide repeatable restore test procedure and capture evidence artifacts.\n- Document RPO/RTO targets and how to validate them (MVP-scoped).\n\n## Acceptance Criteria\n- The platform can store DR/backup exercise artifacts (files + metadata) and include them in an audit pack export.\n- Operator runbook/checklist exists (even if executed outside the platform).\n\nRefs: specs/implementation/90-security-and-ops-controls.md, specs/implementation/80-audit-and-conformity.md, REQ-D09, REQ-H08\n","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T12:39:38.562199+04:00","created_by":"Vincent","updated_at":"2026-01-18T15:54:20.450288+04:00","labels":["compliance:REQ-D09","compliance:REQ-H08","component:devops","phase:9-audit","priority:critical"],"dependencies":[{"issue_id":"qerds-xmz","depends_on_id":"qerds-z6g","type":"blocks","created_at":"2026-01-18T12:40:36.735521+04:00","created_by":"Vincent"},{"issue_id":"qerds-xmz","depends_on_id":"qerds-h3s","type":"blocks","created_at":"2026-01-18T12:40:36.831182+04:00","created_by":"Vincent"},{"issue_id":"qerds-xmz","depends_on_id":"qerds-bpn","type":"blocks","created_at":"2026-01-18T12:40:36.929367+04:00","created_by":"Vincent"},{"issue_id":"qerds-xmz","depends_on_id":"qerds-ec1","type":"blocks","created_at":"2026-01-18T12:40:37.020937+04:00","created_by":"Vincent"},{"issue_id":"qerds-xmz","depends_on_id":"qerds-8wh","type":"parent-child","created_at":"2026-01-22T10:10:33.842187735Z","created_by":"ubuntu"}]}
{"id":"qerds-y7u","title":"Vulnerability management evidence (scan + pentest) (REQ-D05/D06/H09)","description":"Enable vulnerability management evidence suitable for audits, including quarterly vulnerability scans and annual penetration testing evidence handling.\n\n## Scope Note (Important)\nThis is primarily an **operator/process** obligation. MVP implementation does **not** include building a full scanning/pentest program.\n\nThe software/platform requirement is to:\n- Make it possible to **store** scan/pentest reports and remediation tracking artifacts.\n- Make it possible to **export** those artifacts as part of an audit pack.\n\n## Decision: Trivy-only (self-hosted, no outbound DB pulls)\nWe will use **Trivy only** for automated scanning, but **with zero outbound internet access from scanning runners**.\n\n### How this works (air-gap / controlled-update)\n- Maintain an **internal OCI registry** that mirrors Trivy databases:\n  - `trivy-db`\n  - `trivy-java-db`\n  - (optional) `trivy-checks`\n- A dedicated, controlled “update host” (operator-owned) periodically pulls upstream DB artifacts and **pushes** them to the internal registry.\n- Scanning jobs/runners are configured to use the internal registry via:\n  - `--db-repository`\n  - `--java-db-repository`\n  - `--checks-bundle-repository` (if we mirror checks)\n  - plus `--offline-scan` and skip-update flags on the scanning runners.\n\nThis satisfies the “don’t rely on external hosted providers / minimize external reliance” constraint while still keeping DBs current.\n\n## Evidence bundles\n### Quarterly vulnerability scans evidence (REQ-D05)\n- Scan scope (images/targets), tool versions, DB digest(s)/tags used.\n- SBOM(s) used (CycloneDX/SPDX) and scan output (JSON/SARIF).\n\n### Annual penetration test evidence (REQ-D06)\n- Signed report (external/manual), scope, methodology, findings.\n- Remediation plan and closure evidence.\n\n### Vulnerability management evidence retention/export (REQ-H09)\n- Store artifacts in object storage and include them in audit pack export.\n\n## Acceptance Criteria\n- Platform supports storing and exporting vuln mgmt artifacts (reports + metadata) via audit packs.\n- Operator workflow is documented (commands + artifact formats), executed outside the platform.\n\nRefs: specs/implementation/80-audit-and-conformity.md, REQ-D05, REQ-D06, REQ-H09\n\nImplementation references (Trivy docs): air-gapped / self-hosted DB support via OCI repositories (`--db-repository`, `--java-db-repository`).\n","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T12:39:31.291777+04:00","created_by":"Vincent","updated_at":"2026-01-18T16:12:31.660522+04:00","labels":["compliance:REQ-D05","compliance:REQ-D06","compliance:REQ-H09","component:security","phase:9-audit","priority:critical"],"dependencies":[{"issue_id":"qerds-y7u","depends_on_id":"qerds-z6g","type":"blocks","created_at":"2026-01-18T12:40:30.820482+04:00","created_by":"Vincent"},{"issue_id":"qerds-y7u","depends_on_id":"qerds-h3s","type":"blocks","created_at":"2026-01-18T12:40:30.912842+04:00","created_by":"Vincent"},{"issue_id":"qerds-y7u","depends_on_id":"qerds-ec1","type":"blocks","created_at":"2026-01-18T12:40:30.998989+04:00","created_by":"Vincent"},{"issue_id":"qerds-y7u","depends_on_id":"qerds-8wh","type":"parent-child","created_at":"2026-01-22T10:10:33.871114156Z","created_by":"ubuntu"}]}
{"id":"qerds-z6g","title":"Set up Docker Compose for full development stack","description":"Create docker-compose.yml that brings up the complete development environment.\n\n## Services Required\n- PostgreSQL 16 (primary database)\n- MinIO (S3-compatible storage)\n- Mailpit (email testing)\n- qerds-api (FastAPI application)\n- qerds-worker (background jobs)\n- qerds-trust (signing/timestamping service)\n\n## Optional (security tooling)\n- Internal OCI registry (`registry:2`) for mirroring artifacts like Trivy DBs, with basic auth.\n  - Enabled via compose profiles (e.g. `--profile security-tools`).\n  - Credentials via `.env` (see `.env.example`).\n\n## Requirements\n- `docker compose up` starts everything needed for dev\n- Proper networking between services\n- Volume mounts for data persistence\n- Environment variable configuration\n- Health checks for all services\n\n## Acceptance Criteria\n- `docker compose up` starts core dev services\n- `docker compose --profile security-tools up` starts optional tooling services\n- Services can communicate with each other\n- Data persists across restarts\n\nRefs: specs/implementation/05-architecture.md, AGENTS.md\n","status":"closed","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:35:40.466963+04:00","created_by":"Vincent","updated_at":"2026-01-22T11:36:01.589737719Z","closed_at":"2026-01-22T11:36:01.589737719Z","close_reason":"Closed","labels":["component:devops","phase:0-setup","priority:critical"],"dependencies":[{"issue_id":"qerds-z6g","depends_on_id":"qerds-znp","type":"parent-child","created_at":"2026-01-22T10:10:33.899757369Z","created_by":"ubuntu"}]}
{"id":"qerds-zjq","title":"Implement evidence object sealing and timestamping","description":"Create the evidence object sealing logic that uses qerds-trust.\n\n## Evidence Object Structure\n- payload: structured event fields\n- canonicalization: deterministic bytes\n- content_binding: cryptographic binding (SHA-256)\n- provider_attestation: CMS seal from qerds-trust\n- time_attestation: RFC 3161 timestamp\n- verification_bundle: certs, policies, algorithms\n- qualification_label: qualified/non_qualified (REQ-G02)\n\n## Requirements\n- Canonical serialization (deterministic)\n- Hash content and metadata\n- Call qerds-trust for sealing\n- Call qerds-trust for timestamping\n- Store verification bundle in object store\n- Track qualification_label\n\n## Acceptance\n- Evidence objects are properly sealed\n- Timestamps are included\n- Verification bundles are complete\n- Tests verify seal/timestamp validity\n\nRefs: specs/implementation/40-evidence-crypto-and-time.md, REQ-B02, REQ-C02, REQ-C03","status":"tombstone","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:37:41.322203+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:37:49.160027+04:00","labels":["compliance:REQ-C03","component:evidence","phase:4-trust","priority:critical"],"deleted_at":"2026-01-18T11:37:49.160027+04:00","deleted_by":"batch delete","delete_reason":"batch delete","original_type":"task"}
{"id":"qerds-zni","title":"Implement background worker service (qerds-worker)","description":"Create the background worker service for async processing.\n\n## Job Types\n- send_notification - send initial/reminder emails\n- check_expiry - check for 15-day window expiry\n- process_bounce - handle email bounces\n- seal_checkpoint - periodic audit log sealing\n- enforce_retention - cleanup per retention policy\n\n## Requirements\n- Use PostgreSQL-backed job queue\n- Worker process lifecycle management\n- Graceful shutdown\n- Error handling and retries\n- Monitoring/health checks\n- Support for scheduled jobs\n\n## Scheduled Tasks\n- Expiry check: check deliveries past acceptance_deadline_at\n- Checkpoint sealing: periodic (e.g., hourly)\n- Retention enforcement: daily\n\n## Acceptance\n- Worker processes jobs reliably\n- Scheduled tasks run on time\n- Errors are handled gracefully\n- Tests cover all job types\n\nRefs: specs/implementation/05-architecture.md, REQ-F04, REQ-C05","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:39:14.653177+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:39:14.653177+04:00","labels":["compliance:REQ-F04","component:worker","phase:6-notifications","priority:high"],"dependencies":[{"issue_id":"qerds-zni","depends_on_id":"qerds-7br","type":"blocks","created_at":"2026-01-18T11:39:14.654333+04:00","created_by":"Vincent"},{"issue_id":"qerds-zni","depends_on_id":"qerds-e0i","type":"blocks","created_at":"2026-01-18T11:39:14.655268+04:00","created_by":"Vincent"},{"issue_id":"qerds-zni","depends_on_id":"qerds-s5z","type":"blocks","created_at":"2026-01-18T12:36:53.357658+04:00","created_by":"Vincent"},{"issue_id":"qerds-zni","depends_on_id":"qerds-5jg","type":"parent-child","created_at":"2026-01-22T10:10:33.928406343Z","created_by":"ubuntu"}]}
{"id":"qerds-znp","title":"Foundation and Setup","description":"Core project setup and infrastructure configuration","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-22T10:09:39.628659888Z","created_by":"ubuntu","updated_at":"2026-01-22T10:09:39.628659888Z","labels":["epic","phase:0-setup"]}
{"id":"qerds-zog","title":"Implement login page and authentication views","description":"Create the login page and authentication views matching mocks/templates/login.html.\n\n## Views\n- GET /login - login page with FranceConnect+ button\n- GET /auth/callback - OIDC callback handler\n- GET /logout - logout handler\n\n## Requirements\n- Match mock design exactly\n- FranceConnect+ button styling\n- Dev mode warning banner\n- Alternative email/password form (for non-FC+ auth)\n- i18n support (French + English)\n\n## Acceptance\n- Login page matches mock\n- FranceConnect+ flow works\n- Dev banner shows in non-qualified mode\n- Responsive design\n\nRefs: mocks/templates/login.html","status":"open","priority":2,"issue_type":"task","owner":"github.me@5en1.com","created_at":"2026-01-18T11:39:53.293949+04:00","created_by":"Vincent","updated_at":"2026-01-18T11:39:53.293949+04:00","labels":["component:auth","phase:7-frontend","priority:critical"],"dependencies":[{"issue_id":"qerds-zog","depends_on_id":"qerds-3uw","type":"blocks","created_at":"2026-01-18T11:39:53.295775+04:00","created_by":"Vincent"},{"issue_id":"qerds-zog","depends_on_id":"qerds-juv","type":"blocks","created_at":"2026-01-18T11:39:53.297029+04:00","created_by":"Vincent"},{"issue_id":"qerds-zog","depends_on_id":"qerds-5gc","type":"parent-child","created_at":"2026-01-22T10:10:33.956694172Z","created_by":"ubuntu"}]}
